<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aztec B.O.S ‚Äî Technical Architecture</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
    }
    
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: #000;
      color: #fff;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    :root {
      --color-bg: #000000;
      --color-bg-card: rgba(255, 255, 255, 0.02);
      --color-cyan: #06B6D4;
      --color-cyan-glow: rgba(6, 182, 212, 0.4);
      --color-gold: #C9A962;
      --color-gold-glow: rgba(201, 169, 98, 0.4);
      --color-green: #10B981;
      --color-red: #EF4444;
      --color-purple: #8B5CF6;
      --color-text-primary: rgba(255, 255, 255, 0.9);
      --color-text-secondary: rgba(255, 255, 255, 0.6);
      --color-text-muted: rgba(255, 255, 255, 0.3);
      --color-border: rgba(255, 255, 255, 0.1);
      --font-mono: 'JetBrains Mono', monospace;
      --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    .section {
      min-height: 100vh;
      padding: 6rem 0;
      position: relative;
    }
    
    .mono { font-family: var(--font-mono); }
    .text-cyan { color: var(--color-cyan); }
    .text-gold { color: var(--color-gold); }
    .text-green { color: var(--color-green); }
    .text-red { color: var(--color-red); }
    .text-purple { color: var(--color-purple); }
    
    .fade-up {
      opacity: 0;
      transform: translateY(40px);
    }
    
    .dot-grid {
      background-image: radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 32px 32px;
    }
    
    .line-grid {
      background-image: 
        linear-gradient(rgba(6, 182, 212, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(6, 182, 212, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
    }
    
    .grain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    }
    
    .section-label {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .label-line {
      width: 48px;
      height: 1px;
      background: linear-gradient(90deg, var(--color-cyan), transparent);
    }
    
    .label {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--color-text-muted);
    }
    
    h1 {
      font-size: clamp(3rem, 10vw, 6rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 0.95;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1;
      margin-bottom: 2rem;
    }
    
    h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--color-cyan);
    }
    
    p {
      color: var(--color-text-secondary);
      font-size: 1.125rem;
      max-width: 700px;
    }
    
    .hero {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
    }
    
    .hero-title .block {
      display: block;
      color: var(--color-text-muted);
      font-weight: 300;
      font-style: italic;
    }
    
    .corner {
      position: absolute;
      width: 100px;
      height: 100px;
      border-color: var(--color-cyan);
      border-style: solid;
      border-width: 0;
      opacity: 0.3;
    }
    
    .corner.tl { top: 2rem; left: 2rem; border-top-width: 1px; border-left-width: 1px; }
    .corner.br { bottom: 2rem; right: 2rem; border-bottom-width: 1px; border-right-width: 1px; }
    
    .scan-line {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--color-cyan), transparent);
      opacity: 0.5;
      animation: scan 4s ease-in-out infinite;
    }
    
    @keyframes scan {
      0%, 100% { top: 0; opacity: 0; }
      10% { opacity: 0.5; }
      90% { opacity: 0.5; }
      100% { top: 100%; opacity: 0; }
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    
    @media (max-width: 1024px) {
      .grid-2, .grid-3 { grid-template-columns: 1fr; }
    }
    
    .card {
      position: relative;
      padding: 1.5rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      transition: all 0.5s var(--ease-out-expo);
    }
    
    .card::before, .card::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      border-color: var(--color-cyan);
      border-style: solid;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .card::before { top: -1px; left: -1px; border-width: 2px 0 0 2px; }
    .card::after { bottom: -1px; right: -1px; border-width: 0 2px 2px 0; }
    
    .card:hover {
      border-color: var(--color-cyan);
      box-shadow: 0 0 40px var(--color-cyan-glow);
      transform: translateY(-4px);
    }
    
    .card:hover::before, .card:hover::after { opacity: 0.6; }
    
    .card-number {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--color-cyan);
      opacity: 0.5;
      margin-bottom: 0.75rem;
    }
    
    .card h4 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--color-text-primary);
    }
    
    .card p {
      font-size: 0.875rem;
      margin-bottom: 0;
    }
    
    .badge {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 0.25rem 0.75rem;
      border-radius: 2px;
    }
    
    .badge-cyan { background: rgba(6, 182, 212, 0.15); color: var(--color-cyan); }
    .badge-gold { background: rgba(201, 169, 98, 0.15); color: var(--color-gold); }
    .badge-red { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
    .badge-green { background: rgba(16, 185, 129, 0.15); color: var(--color-green); }
    .badge-purple { background: rgba(139, 92, 246, 0.15); color: var(--color-purple); }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    @media (max-width: 768px) {
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
    
    .stat-item {
      text-align: center;
      padding: 1.5rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--color-cyan);
      line-height: 1;
    }
    
    .stat-label {
      font-size: 0.875rem;
      color: var(--color-text-secondary);
      margin-top: 0.5rem;
    }
    
    /* ===== SVG ARCHITECTURE DIAGRAM ===== */
    .arch-svg-container {
      width: 100%;
      margin: 3rem 0;
      overflow: visible;
    }
    
    .arch-svg {
      width: 100%;
      height: auto;
      min-height: 500px;
    }
    
    .arch-svg .box {
      fill: #0a0a0a;
      stroke-width: 1.5;
      transition: all 0.3s ease;
    }
    
    .arch-svg .box:hover {
      filter: url(#glow);
    }
    
    .arch-svg .box-cyan { stroke: var(--color-cyan); }
    .arch-svg .box-gold { stroke: var(--color-gold); }
    .arch-svg .box-green { stroke: var(--color-green); }
    .arch-svg .box-purple { stroke: var(--color-purple); }
    
    .arch-svg .label-text {
      fill: #fff;
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      font-weight: 600;
    }
    
    .arch-svg .sub-text {
      fill: rgba(255,255,255,0.5);
      font-family: 'JetBrains Mono', monospace;
      font-size: 9px;
    }
    
    .arch-svg .connection {
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
    }
    
    .arch-svg .connection-cyan { stroke: var(--color-cyan); }
    .arch-svg .connection-gold { stroke: var(--color-gold); }
    
    /* Animated dashes */
    .arch-svg .flow-line {
      stroke-dasharray: 8 4;
      animation: flowDash 1s linear infinite;
    }
    
    @keyframes flowDash {
      to { stroke-dashoffset: -12; }
    }
    
    /* Data particles */
    .data-particle {
      fill: var(--color-cyan);
      filter: url(#glow);
    }
    
    .data-particle-gold {
      fill: var(--color-gold);
      filter: url(#glowGold);
    }
    
    /* Code blocks */
    .code-block {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 1.5rem;
      overflow-x: auto;
      margin: 1.5rem 0;
    }
    
    .code-block pre {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      line-height: 1.6;
      color: var(--color-text-secondary);
      margin: 0;
      white-space: pre;
    }
    
    .code-block .comment { color: var(--color-text-muted); }
    .code-block .keyword { color: var(--color-purple); }
    .code-block .string { color: var(--color-green); }
    .code-block .type { color: var(--color-cyan); }
    .code-block .function { color: var(--color-gold); }
    
    .code-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid var(--color-border);
    }
    
    .code-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }
    
    .code-dot.red { background: #ff5f57; }
    .code-dot.yellow { background: #febc2e; }
    .code-dot.green { background: #28c840; }
    
    .code-title {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--color-text-muted);
      margin-left: auto;
    }
    
    /* Table */
    .table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      font-size: 0.875rem;
    }
    
    .table th, .table td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--color-border);
    }
    
    .table th {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--color-cyan);
      background: rgba(6, 182, 212, 0.05);
    }
    
    .table td {
      color: var(--color-text-secondary);
    }
    
    .table code {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      background: rgba(6, 182, 212, 0.1);
      padding: 0.15rem 0.4rem;
      border-radius: 3px;
      color: var(--color-cyan);
    }
    
    /* WhatsApp mockup */
    .whatsapp-chat {
      max-width: 360px;
      margin: 1.5rem 0;
      background: #0b141a;
      border-radius: 8px;
      overflow: hidden;
    }
    
    .whatsapp-header {
      background: #1f2c34;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .whatsapp-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-cyan);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .whatsapp-name {
      font-weight: 500;
      font-size: 0.85rem;
    }
    
    .whatsapp-status {
      font-size: 0.65rem;
      color: var(--color-text-muted);
    }
    
    .whatsapp-messages {
      padding: 1rem;
      min-height: 180px;
    }
    
    .wa-msg {
      max-width: 85%;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      font-size: 0.8rem;
      line-height: 1.4;
    }
    
    .wa-msg.incoming {
      background: #1f2c34;
      border-top-left-radius: 0;
    }
    
    .wa-msg.outgoing {
      background: #005c4b;
      margin-left: auto;
      border-top-right-radius: 0;
    }
    
    .wa-time {
      font-size: 0.55rem;
      color: var(--color-text-muted);
      text-align: right;
      margin-top: 0.25rem;
    }
    
    /* Flow diagram */
    .animated-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0;
      margin: 2rem 0;
      padding: 2rem 0;
    }
    
    .flow-step {
      padding: 1rem 1.25rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      text-align: center;
      min-width: 100px;
      position: relative;
      opacity: 0;
      transform: scale(0.8);
    }
    
    .flow-step.visible {
      opacity: 1;
      transform: scale(1);
      transition: all 0.5s var(--ease-out-expo);
    }
    
    .flow-step.active {
      border-color: var(--color-cyan);
      box-shadow: 0 0 25px var(--color-cyan-glow);
    }
    
    .flow-step.gate {
      border-color: var(--color-red);
      background: rgba(239, 68, 68, 0.05);
    }
    
    .flow-step.gate.active {
      box-shadow: 0 0 25px rgba(239, 68, 68, 0.4);
    }
    
    .flow-step strong {
      display: block;
      color: var(--color-text-primary);
      font-size: 0.8rem;
      margin-bottom: 0.2rem;
    }
    
    .flow-step span {
      font-size: 0.65rem;
      color: var(--color-text-muted);
    }
    
    .flow-connector {
      width: 30px;
      height: 2px;
      background: var(--color-border);
      position: relative;
      overflow: visible;
    }
    
    .flow-connector .pulse {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--color-cyan);
      border-radius: 50%;
      top: 50%;
      transform: translateY(-50%);
      left: -4px;
      opacity: 0;
      box-shadow: 0 0 10px var(--color-cyan);
    }
    
    .flow-connector.active .pulse {
      animation: pulseMove 0.6s ease-out forwards;
    }
    
    @keyframes pulseMove {
      0% { left: -4px; opacity: 1; }
      100% { left: calc(100% - 4px); opacity: 0; }
    }
    
    /* Timeline */
    .timeline {
      position: relative;
      margin: 2rem 0;
      padding-left: 40px;
    }
    
    .timeline::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      bottom: 0;
      width: 1px;
      background: linear-gradient(to bottom, var(--color-cyan), transparent);
      opacity: 0.3;
    }
    
    .timeline-item {
      position: relative;
      padding-bottom: 2rem;
    }
    
    .timeline-marker {
      position: absolute;
      left: -40px;
      top: 0;
      width: 16px;
      height: 16px;
      border: 2px solid var(--color-cyan);
      border-radius: 50%;
      background: var(--color-bg);
      transition: all 0.3s ease;
    }
    
    .timeline-item:hover .timeline-marker {
      background: var(--color-cyan);
      box-shadow: 0 0 20px var(--color-cyan-glow);
    }
    
    .timeline-content {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      padding: 1.25rem;
      transition: border-color 0.3s ease;
    }
    
    .timeline-content:hover {
      border-color: var(--color-cyan);
    }
    
    .timeline-phase {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--color-cyan);
      text-transform: uppercase;
      letter-spacing: 0.15em;
    }
    
    .timeline-content h4 {
      font-size: 1rem;
      margin: 0.5rem 0;
      color: var(--color-text-primary);
    }
    
    .timeline-content p {
      font-size: 0.875rem;
      margin-bottom: 0.75rem;
    }
    
    .timeline-duration {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--color-gold);
      background: rgba(201, 169, 98, 0.1);
      padding: 0.25rem 0.5rem;
      display: inline-block;
    }
    
    /* CTA */
    .cta-section {
      text-align: center;
      padding: 8rem 0;
    }
    
    .btn {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      padding: 1rem 2.5rem;
      text-decoration: none;
      transition: all 0.4s var(--ease-out-expo);
    }
    
    .btn-primary {
      background: var(--color-gold);
      color: #000;
    }
    
    .btn-primary:hover {
      background: #D4B76E;
      box-shadow: 0 0 40px var(--color-gold-glow);
      transform: translateY(-2px);
    }
    
    /* File tree */
    .file-tree {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      line-height: 1.7;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--color-border);
      padding: 1.25rem;
      color: var(--color-text-secondary);
    }
    
    .file-tree .folder { color: var(--color-gold); }
    .file-tree .file { color: var(--color-text-secondary); }
    .file-tree .special { color: var(--color-cyan); }
    
    /* ER diagram */
    .er-diagram {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    
    .er-table {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .er-table:hover {
      border-color: var(--color-cyan);
      box-shadow: 0 0 20px var(--color-cyan-glow);
    }
    
    .er-table-name {
      background: rgba(6, 182, 212, 0.1);
      padding: 0.6rem 0.75rem;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--color-cyan);
      border-bottom: 1px solid var(--color-border);
    }
    
    .er-table-cols {
      padding: 0.5rem 0.75rem;
      font-family: var(--font-mono);
      font-size: 0.65rem;
    }
    
    .er-col {
      padding: 0.2rem 0;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    
    .er-col .key { color: var(--color-gold); }
    .er-col .fk { color: var(--color-purple); }
    .er-col .name { color: var(--color-text-secondary); }
    .er-col .type { color: var(--color-text-muted); font-size: 0.6rem; }
  </style>
</head>
<body>

<!-- ===== 01: HERO ===== -->
<section class="section hero dot-grid">
  <div class="corner tl"></div>
  <div class="corner br"></div>
  <div class="scan-line"></div>
  
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Technical Architecture Overview</span>
    </div>
    
    <h1 class="fade-up">
      Aztec <span class="text-cyan">B.O.S</span>
      <span class="block">System Architecture</span>
    </h1>
    
    <p style="margin: 0 auto 2rem; text-align: center;" class="fade-up">
      A comprehensive technical deep-dive into the labour control, allocation and recruitment engine built for Aztec Landscapes.
    </p>
    
    <div class="stats-grid fade-up" style="max-width: 900px; margin: 3rem auto;">
      <div class="stat-item">
        <div class="stat-number" data-count="10">0</div>
        <div class="stat-label">Core Database Tables</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" data-count="25">0</div>
        <div class="stat-label">API Endpoints</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" data-count="3">0</div>
        <div class="stat-label">Integration Points</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" data-count="1">0</div>
        <div class="stat-label">AI Agent (Sophie)</div>
      </div>
    </div>
    
    <div style="text-align: center; color: var(--color-text-muted); font-size: 0.875rem;" class="fade-up">
      <span>Prepared by Cold Lava</span>
      <span class="text-cyan" style="margin: 0 0.5rem;">‚Ä¢</span>
      <span>February 2026</span>
    </div>
  </div>
</section>

<!-- ===== 02: ANIMATED ARCHITECTURE ===== -->
<section class="section line-grid">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Live Architecture / 002</span>
    </div>
    
    <h2 class="fade-up">System <span class="text-cyan">Architecture</span></h2>
    
    <p class="fade-up">Watch data flow through the system in real-time.</p>
    
    <div class="arch-svg-container fade-up">
      <svg class="arch-svg" viewBox="0 0 1000 550">
        <defs>
          <!-- Glow filters -->
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
          <filter id="glowGold" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
          
          <!-- Arrow markers -->
          <marker id="arrowCyan" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#06B6D4"/>
          </marker>
        </defs>
        
        <!-- ===== USER INTERFACES ROW ===== -->
        <text x="500" y="30" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">USER INTERFACES</text>
        
        <!-- Liam Dashboard -->
        <g class="arch-node" data-node="dashboard">
          <rect x="60" y="50" width="160" height="80" rx="4" class="box box-cyan"/>
          <text x="140" y="85" text-anchor="middle" class="label-text">Liam Dashboard</text>
          <text x="140" y="105" text-anchor="middle" class="sub-text">Web Application</text>
        </g>
        
        <!-- Site Manager -->
        <g class="arch-node" data-node="site-manager">
          <rect x="260" y="50" width="160" height="80" rx="4" class="box box-green"/>
          <text x="340" y="85" text-anchor="middle" class="label-text">Site Manager</text>
          <text x="340" y="105" text-anchor="middle" class="sub-text">WhatsApp Bot</text>
        </g>
        
        <!-- Sophie AI -->
        <g class="arch-node" data-node="sophie">
          <rect x="460" y="50" width="160" height="80" rx="4" class="box box-purple"/>
          <text x="540" y="85" text-anchor="middle" class="label-text">Sophie AI</text>
          <text x="540" y="105" text-anchor="middle" class="sub-text">WhatsApp Agent</text>
        </g>
        
        <!-- Operative -->
        <g class="arch-node" data-node="operative">
          <rect x="660" y="50" width="160" height="80" rx="4" class="box box-gold"/>
          <text x="740" y="85" text-anchor="middle" class="label-text">Operative</text>
          <text x="740" y="105" text-anchor="middle" class="sub-text">WhatsApp</text>
        </g>
        
        <!-- ===== API LAYER ===== -->
        <text x="500" y="180" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">API LAYER</text>
        
        <g class="arch-node" data-node="api">
          <rect x="200" y="200" width="600" height="90" rx="4" class="box box-cyan" style="stroke-width: 2;"/>
          <text x="500" y="235" text-anchor="middle" class="label-text" style="font-size: 14px;">Next.js API Layer</text>
          <text x="280" y="265" text-anchor="middle" class="sub-text">/operatives</text>
          <text x="400" y="265" text-anchor="middle" class="sub-text">/allocations</text>
          <text x="520" y="265" text-anchor="middle" class="sub-text">/ncrs</text>
          <text x="640" y="265" text-anchor="middle" class="sub-text">/webhooks</text>
          <text x="740" y="265" text-anchor="middle" class="sub-text">/documents</text>
        </g>
        
        <!-- ===== DATA LAYER ===== -->
        <text x="500" y="340" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">DATA & SERVICES</text>
        
        <!-- PostgreSQL -->
        <g class="arch-node" data-node="database">
          <rect x="100" y="360" width="200" height="90" rx="4" class="box box-cyan"/>
          <text x="200" y="400" text-anchor="middle" class="label-text">PostgreSQL</text>
          <text x="200" y="425" text-anchor="middle" class="sub-text">Supabase ‚Ä¢ London</text>
        </g>
        
        <!-- Storage -->
        <g class="arch-node" data-node="storage">
          <rect x="340" y="360" width="160" height="90" rx="4" class="box box-gold"/>
          <text x="420" y="400" text-anchor="middle" class="label-text">File Storage</text>
          <text x="420" y="425" text-anchor="middle" class="sub-text">Documents</text>
        </g>
        
        <!-- External Services -->
        <g class="arch-node" data-node="external">
          <rect x="540" y="360" width="260" height="90" rx="4" class="box box-green"/>
          <text x="670" y="395" text-anchor="middle" class="label-text">External Services</text>
          <text x="600" y="420" text-anchor="middle" class="sub-text">WhatsApp</text>
          <text x="670" y="420" text-anchor="middle" class="sub-text">OpenAI</text>
          <text x="740" y="420" text-anchor="middle" class="sub-text">Gov.uk</text>
        </g>
        
        <!-- ===== CONNECTION LINES ===== -->
        <g class="connections">
          <!-- Dashboard to API -->
          <path d="M 140 130 L 140 160 L 300 160 L 300 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          
          <!-- Site Manager to API -->
          <path d="M 340 130 L 340 160 L 400 160 L 400 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          
          <!-- Sophie to API -->
          <path d="M 540 130 L 540 160 L 500 160 L 500 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          
          <!-- Operative to API -->
          <path d="M 740 130 L 740 160 L 600 160 L 600 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          
          <!-- API to Database -->
          <path d="M 350 290 L 350 320 L 200 320 L 200 360" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          
          <!-- API to Storage -->
          <path d="M 450 290 L 450 320 L 420 320 L 420 360" class="connection connection-gold flow-line" style="opacity: 0.6;"/>
          
          <!-- API to External -->
          <path d="M 600 290 L 600 320 L 670 320 L 670 360" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
        </g>
        
        <!-- ===== DATA PARTICLES ===== -->
        <g class="particles">
          <!-- Particle 1: Dashboard ‚Üí API ‚Üí DB -->
          <circle class="data-particle" r="5">
            <animate attributeName="opacity" values="0;1;1;1;0" dur="3s" repeatCount="indefinite"/>
            <animateMotion dur="3s" repeatCount="indefinite" path="M 140 130 L 140 160 L 300 160 L 300 200 L 350 245 L 350 290 L 350 320 L 200 320 L 200 360"/>
          </circle>
          
          <!-- Particle 2: Operative ‚Üí API ‚Üí Storage -->
          <circle class="data-particle-gold" r="5">
            <animate attributeName="opacity" values="0;1;1;1;0" dur="4s" repeatCount="indefinite" begin="1s"/>
            <animateMotion dur="4s" repeatCount="indefinite" begin="1s" path="M 740 130 L 740 160 L 600 160 L 600 200 L 500 245 L 450 290 L 450 320 L 420 320 L 420 360"/>
          </circle>
          
          <!-- Particle 3: Sophie ‚Üí API ‚Üí External -->
          <circle class="data-particle" r="5">
            <animate attributeName="opacity" values="0;1;1;1;0" dur="3.5s" repeatCount="indefinite" begin="2s"/>
            <animateMotion dur="3.5s" repeatCount="indefinite" begin="2s" path="M 540 130 L 540 160 L 500 160 L 500 200 L 550 245 L 600 290 L 600 320 L 670 320 L 670 360"/>
          </circle>
        </g>
        
        <!-- ===== LIVE INDICATOR ===== -->
        <g transform="translate(900, 20)">
          <circle r="5" fill="#10B981">
            <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
          </circle>
          <text x="15" y="4" class="sub-text" style="fill: #10B981;">LIVE</text>
        </g>
      </svg>
    </div>
    
    <div class="grid grid-3 fade-up">
      <div class="card">
        <h4 class="text-cyan">4 User Interfaces</h4>
        <p>Liam's dashboard, Site Manager bot, Sophie AI agent, and Operative messaging ‚Äî all connected.</p>
      </div>
      <div class="card">
        <h4 class="text-gold">Unified API Layer</h4>
        <p>Single API handling all operations. Serverless, auto-scaling, sub-100ms response times.</p>
      </div>
      <div class="card">
        <h4 class="text-green">3 External Integrations</h4>
        <p>WhatsApp Business API, OpenAI for Sophie, Gov.uk for RTW verification.</p>
      </div>
    </div>
  </div>
</section>

<!-- ===== 03: DATA FLOW ===== -->
<section class="section dot-grid">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Data Flow / 003</span>
    </div>
    
    <h2 class="fade-up">Labour Request <span class="text-cyan">Flow</span></h2>
    
    <p class="fade-up">Watch a labour request flow through the system ‚Äî from site need to operative allocation.</p>
    
    <div class="animated-flow" id="labour-flow">
      <div class="flow-step" data-step="1">
        <strong>1. Request</strong>
        <span>Site raises need</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="2">
        <strong>2. Realloc</strong>
        <span>Check finishing jobs</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="3">
        <strong>3. Search</strong>
        <span>Query labour pool</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="4">
        <strong>4. Match</strong>
        <span>Skills + location</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="5">
        <strong>5. Offer</strong>
        <span>WhatsApp message</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="6">
        <strong>6. Confirm</strong>
        <span>Operative accepts</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step active" data-step="7">
        <strong>7. Allocate</strong>
        <span>Assignment complete</span>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">Sophie AI Qualification Flow</h3>
    
    <div class="animated-flow" id="sophie-flow">
      <div class="flow-step" data-step="1">
        <strong>Greeting</strong>
        <span>Present job</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step gate" data-step="2">
        <strong>RTW?</strong>
        <span>GATE 1</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step gate" data-step="3">
        <strong>18+?</strong>
        <span>GATE 2</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="4">
        <strong>CSCS</strong>
        <span>Card check</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="5">
        <strong>Details</strong>
        <span>Collect info</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="6">
        <strong>Docs</strong>
        <span>Upload request</span>
      </div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step active" data-step="7">
        <strong>Qualified</strong>
        <span>Pass to Liam</span>
      </div>
    </div>
  </div>
</section>

<!-- ===== 04: DATABASE ===== -->
<section class="section">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Database / 004</span>
    </div>
    
    <h2 class="fade-up">Database <span class="text-cyan">Schema</span></h2>
    
    <p class="fade-up">10 core tables with full referential integrity and optimized indexes.</p>
    
    <div class="er-diagram fade-up">
      <div class="er-table">
        <div class="er-table-name">operatives</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">üîë</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="name">first_name, last_name</span></div>
          <div class="er-col"><span class="name">phone, email</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">trade_category_id</span></div>
          <div class="er-col"><span class="name">day_rate, status</span></div>
          <div class="er-col"><span class="name">avg_rating</span></div>
        </div>
      </div>
      
      <div class="er-table">
        <div class="er-table-name">allocations</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">üîë</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">site_id</span></div>
          <div class="er-col"><span class="name">start_date, end_date</span></div>
          <div class="er-col"><span class="name">agreed_day_rate</span></div>
          <div class="er-col"><span class="name">status</span></div>
        </div>
      </div>
      
      <div class="er-table">
        <div class="er-table-name">documents</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">üîë</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">document_type</span></div>
          <div class="er-col"><span class="name">expiry_date</span></div>
          <div class="er-col"><span class="name">is_verified</span></div>
        </div>
      </div>
      
      <div class="er-table">
        <div class="er-table-name">ncrs</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">üîë</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">site_id</span></div>
          <div class="er-col"><span class="name">incident_type</span></div>
          <div class="er-col"><span class="name">severity</span></div>
        </div>
      </div>
      
      <div class="er-table">
        <div class="er-table-name">sites</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">üîë</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="name">name, address</span></div>
          <div class="er-col"><span class="name">postcode, lat, lng</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">site_manager_id</span></div>
        </div>
      </div>
      
      <div class="er-table">
        <div class="er-table-name">communication_log</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">üîë</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">‚Üí</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">channel, direction</span></div>
          <div class="er-col"><span class="name">message_body</span></div>
          <div class="er-col"><span class="name">sent_at</span></div>
        </div>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem;">Operatives Table ‚Äî SQL</h3>
    
    <div class="code-block fade-up">
      <div class="code-header">
        <span class="code-dot red"></span>
        <span class="code-dot yellow"></span>
        <span class="code-dot green"></span>
        <span class="code-title">operatives.sql</span>
      </div>
      <pre><span class="keyword">CREATE TABLE</span> <span class="type">operatives</span> (
  id <span class="type">UUID</span> <span class="keyword">PRIMARY KEY DEFAULT</span> <span class="function">gen_random_uuid</span>(),
  first_name <span class="type">VARCHAR(100)</span> <span class="keyword">NOT NULL</span>,
  last_name <span class="type">VARCHAR(100)</span> <span class="keyword">NOT NULL</span>,
  phone <span class="type">VARCHAR(20)</span> <span class="keyword">NOT NULL UNIQUE</span>,
  trade_category_id <span class="type">UUID</span> <span class="keyword">REFERENCES</span> trade_categories(id),
  
  <span class="comment">-- Rates</span>
  day_rate <span class="type">DECIMAL(8,2)</span>,
  hourly_rate <span class="type">DECIMAL(6,2)</span> <span class="keyword">GENERATED ALWAYS AS</span> (day_rate / 8) <span class="keyword">STORED</span>,
  
  <span class="comment">-- Compliance (denormalized for fast queries)</span>
  rtw_verified <span class="type">BOOLEAN</span> <span class="keyword">DEFAULT</span> <span class="string">false</span>,
  rtw_expiry <span class="type">DATE</span>,
  cscs_expiry <span class="type">DATE</span>,
  
  <span class="comment">-- Performance (auto-calculated)</span>
  avg_rating <span class="type">DECIMAL(3,2)</span>,
  total_jobs <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="string">0</span>,
  
  <span class="comment">-- Status</span>
  status <span class="type">VARCHAR(50)</span> <span class="keyword">CHECK</span> (status <span class="keyword">IN</span> (
    <span class="string">'prospect'</span>, <span class="string">'qualifying'</span>, <span class="string">'verified'</span>,
    <span class="string">'working'</span>, <span class="string">'available'</span>, <span class="string">'blocked'</span>
  )) <span class="keyword">DEFAULT</span> <span class="string">'prospect'</span>
);

<span class="comment">-- Indexes for fast search</span>
<span class="keyword">CREATE INDEX</span> idx_operatives_status <span class="keyword">ON</span> operatives(status);
<span class="keyword">CREATE INDEX</span> idx_operatives_trade <span class="keyword">ON</span> operatives(trade_category_id);
<span class="keyword">CREATE INDEX</span> idx_operatives_rating <span class="keyword">ON</span> operatives(avg_rating <span class="keyword">DESC</span>);</pre>
    </div>
  </div>
</section>

<!-- ===== 05: WHATSAPP ===== -->
<section class="section line-grid">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">WhatsApp / 005</span>
    </div>
    
    <h2 class="fade-up">WhatsApp <span class="text-green">Integration</span></h2>
    
    <p class="fade-up">Real message flows for common workflows.</p>
    
    <div class="grid grid-3 fade-up" style="margin-top: 2rem;">
      <div>
        <h3 style="color: var(--color-green);">Arrival Confirmation</h3>
        <div class="whatsapp-chat">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: var(--color-cyan);">A</div>
            <div>
              <div class="whatsapp-name">Aztec BOS</div>
              <div class="whatsapp-status">Site Manager Bot</div>
            </div>
          </div>
          <div class="whatsapp-messages">
            <div class="wa-msg incoming">
              Good morning! üåÖ<br><br>
              Did <strong>John Smith</strong> arrive at <strong>Westfield Site</strong> today?<br><br>
              Reply YES or NO
              <div class="wa-time">07:15</div>
            </div>
            <div class="wa-msg outgoing">
              YES
              <div class="wa-time">07:18</div>
            </div>
            <div class="wa-msg incoming">
              ‚úÖ John Smith marked as arrived.
              <div class="wa-time">07:18</div>
            </div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-red);">NCR Report</h3>
        <div class="whatsapp-chat">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: var(--color-red);">!</div>
            <div>
              <div class="whatsapp-name">Site Manager</div>
              <div class="whatsapp-status">NCR Flow</div>
            </div>
          </div>
          <div class="whatsapp-messages">
            <div class="wa-msg outgoing">
              Red card John Smith - walked off site
              <div class="wa-time">14:30</div>
            </div>
            <div class="wa-msg incoming">
              ‚ö†Ô∏è <strong>NCR Logged</strong><br>
              Operative: John Smith<br>
              Type: Walk Off<br><br>
              Need a replacement?<br>Reply YES or NO
              <div class="wa-time">14:30</div>
            </div>
            <div class="wa-msg outgoing">
              YES
              <div class="wa-time">14:31</div>
            </div>
            <div class="wa-msg incoming">
              Got it. Liam notified. üîÑ
              <div class="wa-time">14:31</div>
            </div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-gold);">Shift Confirmation</h3>
        <div class="whatsapp-chat">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: var(--color-gold);">A</div>
            <div>
              <div class="whatsapp-name">Aztec BOS</div>
              <div class="whatsapp-status">Operative Flow</div>
            </div>
          </div>
          <div class="whatsapp-messages">
            <div class="wa-msg incoming">
              Hi John! üëã<br><br>
              You've been assigned:<br>
              üìç Westfield Site, W12<br>
              üìÖ Monday 5th Feb<br>
              üí∑ ¬£180/day<br>
              ‚è∞ 7:00 AM<br><br>
              Confirm? YES or NO
              <div class="wa-time">16:00</div>
            </div>
            <div class="wa-msg outgoing">
              YES
              <div class="wa-time">16:05</div>
            </div>
            <div class="wa-msg incoming">
              ‚úÖ Confirmed! See you Monday üöß
              <div class="wa-time">16:05</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 06: COMPLIANCE ===== -->
<section class="section dot-grid">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Compliance / 006</span>
    </div>
    
    <h2 class="fade-up">Compliance <span class="text-red">Engine</span></h2>
    
    <p class="fade-up">No operative starts without verified RTW, Photo ID, and in-date CSCS.</p>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div>
        <h3>Pre-Start Validation</h3>
        <div class="code-block">
          <div class="code-header">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
            <span class="code-title">compliance/canStart.ts</span>
          </div>
          <pre><span class="keyword">async function</span> <span class="function">canOperativeStart</span>(id: <span class="type">string</span>) {
  <span class="keyword">const</span> op = <span class="keyword">await</span> db.operative.<span class="function">findById</span>(id);
  <span class="keyword">const</span> blockers: <span class="type">string</span>[] = [];
  
  <span class="comment">// 1. RTW verified</span>
  <span class="keyword">if</span> (!op.rtwVerified)
    blockers.<span class="function">push</span>(<span class="string">'RTW not verified'</span>);
  
  <span class="comment">// 2. RTW not expired</span>
  <span class="keyword">if</span> (op.rtwExpiry < <span class="keyword">new</span> <span class="type">Date</span>())
    blockers.<span class="function">push</span>(<span class="string">'RTW expired'</span>);
  
  <span class="comment">// 3. Photo ID on file</span>
  <span class="keyword">if</span> (!<span class="keyword">await</span> db.documents.<span class="function">hasPhotoId</span>(id))
    blockers.<span class="function">push</span>(<span class="string">'Photo ID missing'</span>);
  
  <span class="comment">// 4. CSCS in date</span>
  <span class="keyword">if</span> (op.cscsExpiry < <span class="keyword">new</span> <span class="type">Date</span>())
    blockers.<span class="function">push</span>(<span class="string">'CSCS expired'</span>);
  
  <span class="comment">// 5. Not blocked</span>
  <span class="keyword">if</span> (op.status === <span class="string">'blocked'</span>)
    blockers.<span class="function">push</span>(<span class="string">`Blocked: ${op.blockedReason}`</span>);
  
  <span class="keyword">return</span> { 
    canStart: blockers.length === <span class="string">0</span>, 
    blockers 
  };
}</pre>
        </div>
      </div>
      
      <div>
        <h3>Document Expiry Alerts</h3>
        <table class="table">
          <thead>
            <tr>
              <th>Document</th>
              <th>Alert Days</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Right to Work</td>
              <td>30, 21, 14, 7, 0</td>
              <td><span class="badge badge-red">Blocks</span></td>
            </tr>
            <tr>
              <td>CSCS Card</td>
              <td>60, 30, 14, 7, 0</td>
              <td><span class="badge badge-red">Blocks</span></td>
            </tr>
            <tr>
              <td>Photo ID</td>
              <td>‚Äî</td>
              <td><span class="badge badge-red">Required</span></td>
            </tr>
            <tr>
              <td>CPCS/NPORS</td>
              <td>30, 14, 7</td>
              <td><span class="badge badge-gold">Warns</span></td>
            </tr>
          </tbody>
        </table>
        
        <div class="card" style="margin-top: 1.5rem; border-color: var(--color-red); background: rgba(239, 68, 68, 0.05);">
          <h4 style="color: var(--color-red);">Zero Exceptions Policy</h4>
          <p>No manual overrides. If compliance fails, operative cannot be allocated. System enforces at database level.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 07: TIMELINE ===== -->
<section class="section">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Timeline / 007</span>
    </div>
    
    <h2 class="fade-up">Implementation <span class="text-cyan">Timeline</span></h2>
    
    <p class="fade-up">12-16 weeks from approval to go-live.</p>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 1</span>
            <h4>Discovery & Foundation</h4>
            <p>Requirements confirmed, database deployed, auth setup.</p>
            <span class="timeline-duration">2 Weeks</span>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 2</span>
            <h4>Core Build</h4>
            <p>Operatives, sites, allocations, documents, compliance, dashboard.</p>
            <span class="timeline-duration">6 Weeks</span>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 3</span>
            <h4>Communications</h4>
            <p>WhatsApp integration, Sophie AI, NCR flow, templates.</p>
            <span class="timeline-duration">3 Weeks</span>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 4</span>
            <h4>Polish & Deploy</h4>
            <p>Testing, training, data migration, go-live, hypercare.</p>
            <span class="timeline-duration">3 Weeks</span>
          </div>
        </div>
      </div>
      
      <div>
        <h3>Key Deliverables</h3>
        
        <div class="card" style="margin-bottom: 1rem;">
          <h4 class="text-cyan">Phase 1</h4>
          <p>‚úì Database live in Supabase (London)<br>‚úì Auth working with test users<br>‚úì Basic dashboard deployed</p>
        </div>
        
        <div class="card" style="margin-bottom: 1rem;">
          <h4 class="text-gold">Phase 2</h4>
          <p>‚úì Full operative management<br>‚úì Document upload & tracking<br>‚úì Allocation workflow<br>‚úì Performance reviews & NCRs</p>
        </div>
        
        <div class="card" style="margin-bottom: 1rem;">
          <h4 class="text-green">Phase 3</h4>
          <p>‚úì WhatsApp Business connected<br>‚úì Sophie qualifying candidates<br>‚úì Arrival confirmations<br>‚úì Shift confirmations</p>
        </div>
        
        <div class="card">
          <h4 class="text-purple">Phase 4</h4>
          <p>‚úì Full UAT complete<br>‚úì Liam trained<br>‚úì Data migrated<br>‚úì Production go-live</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 08: CTA ===== -->
<section class="section cta-section dot-grid">
  <div class="corner tl"></div>
  <div class="corner br"></div>
  
  <div class="container">
    <div class="section-label fade-up" style="justify-content: center;">
      <div class="label-line"></div>
      <span class="label">Next Steps / 008</span>
    </div>
    
    <h2 class="fade-up" style="font-size: clamp(2rem, 5vw, 3.5rem);">
      Ready to <span class="text-gold">Build</span>?
    </h2>
    
    <p class="fade-up" style="max-width: 600px; margin: 0 auto 2rem; text-align: center;">
      All architecture designed. Database schemas ready. Team standing by.
    </p>
    
    <div class="stats-grid fade-up" style="max-width: 800px; margin: 2rem auto;">
      <div class="stat-item">
        <div class="stat-number">12-16</div>
        <div class="stat-label">Weeks to Launch</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">¬£55k</div>
        <div class="stat-label">Build Investment</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">¬£120k</div>
        <div class="stat-label">Est. Annual Saving</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">&lt;12mo</div>
        <div class="stat-label">ROI Payback</div>
      </div>
    </div>
    
    <div class="fade-up" style="margin-top: 3rem; text-align: center;">
      <a href="mailto:oliver@coldlava.ai" class="btn btn-primary">Get Started</a>
    </div>
    
    <div class="fade-up" style="margin-top: 4rem; color: var(--color-text-muted); font-size: 0.875rem; text-align: center;">
      <p>oliver@coldlava.ai ‚Ä¢ jacob@coldlava.ai</p>
      <p class="mono" style="margin-top: 1rem;">¬© 2026 Cold Lava AI Ltd</p>
    </div>
  </div>
</section>

<div class="grain"></div>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<script>
  gsap.registerPlugin(ScrollTrigger);
  
  // ===== FADE UP ANIMATIONS =====
  gsap.utils.toArray('.fade-up').forEach(el => {
    gsap.to(el, {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: 'power3.out',
      scrollTrigger: {
        trigger: el,
        start: 'top 85%',
        toggleActions: 'play none none none'
      }
    });
  });
  
  // ===== COUNTER ANIMATIONS =====
  gsap.utils.toArray('.stat-number[data-count]').forEach(stat => {
    const target = parseFloat(stat.dataset.count);
    ScrollTrigger.create({
      trigger: stat,
      start: 'top 80%',
      onEnter: () => {
        gsap.to(stat, {
          textContent: target,
          duration: 2,
          ease: 'power2.out',
          snap: { textContent: 1 },
          onUpdate: function() {
            stat.textContent = Math.round(this.targets()[0].textContent);
          }
        });
      },
      once: true
    });
  });
  
  // ===== ANIMATED FLOW =====
  function animateFlow(selector) {
    const container = document.querySelector(selector);
    if (!container) return;
    
    const steps = container.querySelectorAll('.flow-step');
    const connectors = container.querySelectorAll('.flow-connector');
    
    ScrollTrigger.create({
      trigger: container,
      start: 'top 70%',
      onEnter: () => {
        let delay = 0;
        
        steps.forEach((step, i) => {
          // Show step
          setTimeout(() => {
            step.classList.add('visible');
            step.classList.add('active');
            
            // Remove active from previous
            if (i > 0) {
              setTimeout(() => steps[i-1].classList.remove('active'), 300);
            }
          }, delay);
          
          // Animate connector
          if (i < connectors.length) {
            setTimeout(() => {
              connectors[i].classList.add('active');
              // Remove active class after animation
              setTimeout(() => connectors[i].classList.remove('active'), 600);
            }, delay + 300);
          }
          
          delay += 400;
        });
      },
      once: true
    });
  }
  
  animateFlow('#labour-flow');
  animateFlow('#sophie-flow');
  
  // ===== ARCHITECTURE NODES HOVER =====
  document.querySelectorAll('.arch-node').forEach(node => {
    node.addEventListener('mouseenter', () => {
      gsap.to(node.querySelector('.box'), {
        strokeWidth: 2.5,
        duration: 0.3
      });
    });
    node.addEventListener('mouseleave', () => {
      gsap.to(node.querySelector('.box'), {
        strokeWidth: 1.5,
        duration: 0.3
      });
    });
  });
</script>

</body>
</html>
