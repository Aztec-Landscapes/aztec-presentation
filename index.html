<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aztec B.O.S — Technical Architecture</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
    }
    
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: #000;
      color: #fff;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    :root {
      --color-bg: #000000;
      --color-bg-card: rgba(255, 255, 255, 0.02);
      --color-cyan: #06B6D4;
      --color-cyan-glow: rgba(6, 182, 212, 0.4);
      --color-gold: #C9A962;
      --color-gold-glow: rgba(201, 169, 98, 0.4);
      --color-green: #10B981;
      --color-red: #EF4444;
      --color-purple: #8B5CF6;
      --color-text-primary: rgba(255, 255, 255, 0.9);
      --color-text-secondary: rgba(255, 255, 255, 0.6);
      --color-text-muted: rgba(255, 255, 255, 0.3);
      --color-border: rgba(255, 255, 255, 0.1);
      --font-mono: 'JetBrains Mono', monospace;
      --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    /* ===== PROGRESS BAR ===== */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--color-cyan), var(--color-gold));
      z-index: 10000;
      transition: width 0.1s ease;
    }
    
    /* ===== SECTION NAV ===== */
    .section-nav {
      position: fixed;
      right: 2rem;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .nav-dot {
      width: 12px;
      height: 12px;
      border: 1px solid var(--color-border);
      border-radius: 50%;
      background: transparent;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .nav-dot:hover {
      border-color: var(--color-cyan);
      transform: scale(1.2);
    }
    
    .nav-dot.active {
      background: var(--color-cyan);
      border-color: var(--color-cyan);
      box-shadow: 0 0 15px var(--color-cyan-glow);
    }
    
    .nav-dot .tooltip {
      position: absolute;
      right: 24px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.9);
      border: 1px solid var(--color-border);
      padding: 0.5rem 0.75rem;
      font-size: 0.7rem;
      font-family: var(--font-mono);
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .nav-dot:hover .tooltip {
      opacity: 1;
    }
    
    @media (max-width: 768px) {
      .section-nav { display: none; }
    }
    
    /* ===== CONTAINER ===== */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    .section {
      min-height: 100vh;
      padding: 6rem 0;
      position: relative;
    }
    
    .mono { font-family: var(--font-mono); }
    .text-cyan { color: var(--color-cyan); }
    .text-gold { color: var(--color-gold); }
    .text-green { color: var(--color-green); }
    .text-red { color: var(--color-red); }
    .text-purple { color: var(--color-purple); }
    
    .fade-up {
      opacity: 0;
      transform: translateY(40px);
    }
    
    .scale-in {
      opacity: 0;
      transform: scale(0.9);
    }
    
    /* ===== BACKGROUNDS ===== */
    .dot-grid {
      background-image: radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 32px 32px;
    }
    
    .line-grid {
      background-image: 
        linear-gradient(rgba(6, 182, 212, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(6, 182, 212, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
    }
    
    /* Parallax floating elements */
    .float-element {
      position: absolute;
      pointer-events: none;
      opacity: 0.1;
    }
    
    .float-circle {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 1px solid var(--color-cyan);
    }
    
    .float-square {
      width: 200px;
      height: 200px;
      border: 1px solid var(--color-gold);
      transform: rotate(45deg);
    }
    
    .grain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    }
    
    /* ===== SECTION LABELS ===== */
    .section-label {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .label-line {
      width: 48px;
      height: 1px;
      background: linear-gradient(90deg, var(--color-cyan), transparent);
    }
    
    .label {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--color-text-muted);
    }
    
    /* ===== TYPOGRAPHY ===== */
    h1 {
      font-size: clamp(3rem, 10vw, 6rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 0.95;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1;
      margin-bottom: 2rem;
    }
    
    h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--color-cyan);
    }
    
    p {
      color: var(--color-text-secondary);
      font-size: 1.125rem;
      max-width: 700px;
    }
    
    /* ===== HERO ===== */
    .hero {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .hero-title .block {
      display: block;
      color: var(--color-text-muted);
      font-weight: 300;
      font-style: italic;
    }
    
    .corner {
      position: absolute;
      width: 100px;
      height: 100px;
      border-color: var(--color-cyan);
      border-style: solid;
      border-width: 0;
      opacity: 0.3;
    }
    
    .corner.tl { top: 2rem; left: 2rem; border-top-width: 1px; border-left-width: 1px; }
    .corner.br { bottom: 2rem; right: 2rem; border-bottom-width: 1px; border-right-width: 1px; }
    
    .scan-line {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--color-cyan), transparent);
      opacity: 0.5;
      animation: scan 4s ease-in-out infinite;
    }
    
    @keyframes scan {
      0%, 100% { top: 0; opacity: 0; }
      10% { opacity: 0.5; }
      90% { opacity: 0.5; }
      100% { top: 100%; opacity: 0; }
    }
    
    /* Animated background lines */
    .hero-bg-lines {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: hidden;
      pointer-events: none;
    }
    
    .hero-bg-lines .line {
      position: absolute;
      width: 1px;
      height: 100%;
      background: linear-gradient(to bottom, transparent, var(--color-cyan), transparent);
      opacity: 0.1;
      animation: linePulse 3s ease-in-out infinite;
    }
    
    .hero-bg-lines .line:nth-child(1) { left: 10%; animation-delay: 0s; }
    .hero-bg-lines .line:nth-child(2) { left: 25%; animation-delay: 0.5s; }
    .hero-bg-lines .line:nth-child(3) { left: 50%; animation-delay: 1s; }
    .hero-bg-lines .line:nth-child(4) { left: 75%; animation-delay: 1.5s; }
    .hero-bg-lines .line:nth-child(5) { left: 90%; animation-delay: 2s; }
    
    @keyframes linePulse {
      0%, 100% { opacity: 0.05; }
      50% { opacity: 0.15; }
    }
    
    /* ===== GRID ===== */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(4, 1fr); }
    
    @media (max-width: 1024px) {
      .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
    }
    
    /* ===== CARDS ===== */
    .card {
      position: relative;
      padding: 1.5rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      transition: all 0.5s var(--ease-out-expo);
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--color-cyan), var(--color-gold));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s var(--ease-out-expo);
    }
    
    .card:hover {
      border-color: var(--color-cyan);
      box-shadow: 0 0 40px var(--color-cyan-glow);
      transform: translateY(-4px);
    }
    
    .card:hover::before {
      transform: scaleX(1);
    }
    
    .card-number {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--color-cyan);
      opacity: 0.5;
      margin-bottom: 0.75rem;
    }
    
    .card h4 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--color-text-primary);
    }
    
    .card p {
      font-size: 0.875rem;
      margin-bottom: 0;
    }
    
    /* ===== STATS ===== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    @media (max-width: 768px) {
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
    
    .stat-item {
      text-align: center;
      padding: 1.5rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      position: relative;
      overflow: hidden;
    }
    
    .stat-item::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--color-cyan);
      transform: scaleX(0);
      transition: transform 1s var(--ease-out-expo);
    }
    
    .stat-item.animate::after {
      transform: scaleX(1);
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--color-cyan);
      line-height: 1;
    }
    
    .stat-label {
      font-size: 0.875rem;
      color: var(--color-text-secondary);
      margin-top: 0.5rem;
    }
    
    /* ===== BADGES ===== */
    .badge {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 0.25rem 0.75rem;
      border-radius: 2px;
    }
    
    .badge-cyan { background: rgba(6, 182, 212, 0.15); color: var(--color-cyan); }
    .badge-gold { background: rgba(201, 169, 98, 0.15); color: var(--color-gold); }
    .badge-red { background: rgba(239, 68, 68, 0.15); color: var(--color-red); }
    .badge-green { background: rgba(16, 185, 129, 0.15); color: var(--color-green); }
    .badge-purple { background: rgba(139, 92, 246, 0.15); color: var(--color-purple); }
    
    /* ===== SVG ARCHITECTURE ===== */
    .arch-svg-container {
      width: 100%;
      margin: 3rem 0;
      overflow: visible;
    }
    
    .arch-svg {
      width: 100%;
      height: auto;
      min-height: 500px;
    }
    
    .arch-svg .box {
      fill: #0a0a0a;
      stroke-width: 1.5;
      transition: all 0.4s ease;
    }
    
    .arch-svg .box:hover {
      filter: url(#glow);
      cursor: pointer;
    }
    
    .arch-svg .box-cyan { stroke: var(--color-cyan); }
    .arch-svg .box-gold { stroke: var(--color-gold); }
    .arch-svg .box-green { stroke: var(--color-green); }
    .arch-svg .box-purple { stroke: var(--color-purple); }
    
    .arch-svg .label-text {
      fill: #fff;
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      font-weight: 600;
    }
    
    .arch-svg .sub-text {
      fill: rgba(255,255,255,0.5);
      font-family: 'JetBrains Mono', monospace;
      font-size: 9px;
    }
    
    .arch-svg .connection {
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
    }
    
    .arch-svg .connection-cyan { stroke: var(--color-cyan); }
    .arch-svg .connection-gold { stroke: var(--color-gold); }
    
    .arch-svg .flow-line {
      stroke-dasharray: 8 4;
      animation: flowDash 1s linear infinite;
    }
    
    @keyframes flowDash {
      to { stroke-dashoffset: -12; }
    }
    
    .data-particle {
      fill: var(--color-cyan);
      filter: url(#glow);
    }
    
    .data-particle-gold {
      fill: var(--color-gold);
      filter: url(#glowGold);
    }
    
    .data-particle-purple {
      fill: var(--color-purple);
      filter: drop-shadow(0 0 6px var(--color-purple));
    }
    
    .connection-purple {
      stroke: var(--color-purple);
    }
    
    /* ===== CODE BLOCKS ===== */
    .code-block {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 1.5rem;
      overflow-x: auto;
      margin: 1.5rem 0;
      position: relative;
    }
    
    .code-block::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--color-cyan), transparent);
    }
    
    .code-block pre {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      line-height: 1.6;
      color: var(--color-text-secondary);
      margin: 0;
      white-space: pre;
    }
    
    .code-block .comment { color: var(--color-text-muted); }
    .code-block .keyword { color: var(--color-purple); }
    .code-block .string { color: var(--color-green); }
    .code-block .type { color: var(--color-cyan); }
    .code-block .function { color: var(--color-gold); }
    
    .code-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid var(--color-border);
    }
    
    .code-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }
    
    .code-dot.red { background: #ff5f57; }
    .code-dot.yellow { background: #febc2e; }
    .code-dot.green { background: #28c840; }
    
    .code-title {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--color-text-muted);
      margin-left: auto;
    }
    
    /* Typing animation for code */
    .code-typing .line {
      opacity: 0;
      transform: translateX(-10px);
    }
    
    .code-typing.animate .line {
      animation: typeIn 0.3s ease forwards;
    }
    
    .code-typing.animate .line:nth-child(1) { animation-delay: 0s; }
    .code-typing.animate .line:nth-child(2) { animation-delay: 0.1s; }
    .code-typing.animate .line:nth-child(3) { animation-delay: 0.2s; }
    .code-typing.animate .line:nth-child(4) { animation-delay: 0.3s; }
    .code-typing.animate .line:nth-child(5) { animation-delay: 0.4s; }
    .code-typing.animate .line:nth-child(6) { animation-delay: 0.5s; }
    .code-typing.animate .line:nth-child(7) { animation-delay: 0.6s; }
    .code-typing.animate .line:nth-child(8) { animation-delay: 0.7s; }
    .code-typing.animate .line:nth-child(9) { animation-delay: 0.8s; }
    .code-typing.animate .line:nth-child(10) { animation-delay: 0.9s; }
    
    @keyframes typeIn {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    /* ===== TABLE ===== */
    .table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      font-size: 0.875rem;
    }
    
    .table th, .table td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--color-border);
    }
    
    .table th {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--color-cyan);
      background: rgba(6, 182, 212, 0.05);
    }
    
    .table td {
      color: var(--color-text-secondary);
    }
    
    .table tr {
      transition: background 0.3s ease;
    }
    
    .table tbody tr:hover {
      background: rgba(6, 182, 212, 0.05);
    }
    
    .table code {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      background: rgba(6, 182, 212, 0.1);
      padding: 0.15rem 0.4rem;
      border-radius: 3px;
      color: var(--color-cyan);
    }
    
    /* ===== WHATSAPP ===== */
    .whatsapp-chat {
      max-width: 360px;
      margin: 1.5rem 0;
      background: #0b141a;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }
    
    .whatsapp-header {
      background: #1f2c34;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .whatsapp-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-cyan);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .whatsapp-name {
      font-weight: 500;
      font-size: 0.85rem;
    }
    
    .whatsapp-status {
      font-size: 0.65rem;
      color: var(--color-text-muted);
    }
    
    .whatsapp-messages {
      padding: 1rem;
      min-height: 200px;
    }
    
    .wa-msg {
      max-width: 85%;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      font-size: 0.8rem;
      line-height: 1.4;
      opacity: 0;
      transform: translateY(10px) scale(0.95);
      position: relative;
    }
    
    .wa-msg.animate {
      animation: msgIn 0.3s ease forwards;
    }
    
    .wa-msg.fade-out {
      animation: msgOut 0.3s ease forwards;
    }
    
    @keyframes msgIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    
    @keyframes msgOut {
      to {
        opacity: 0;
        transform: translateY(-5px) scale(0.95);
      }
    }
    
    .wa-msg.incoming {
      background: #1f2c34;
      border-top-left-radius: 0;
    }
    
    .wa-msg.outgoing {
      background: #005c4b;
      margin-left: auto;
      border-top-right-radius: 0;
    }
    
    .wa-msg.outgoing::after {
      content: '✓✓';
      font-size: 0.5rem;
      color: #53bdeb;
      position: absolute;
      right: 0.5rem;
      bottom: 0.25rem;
    }
    
    .wa-time {
      font-size: 0.55rem;
      color: var(--color-text-muted);
      text-align: right;
      margin-top: 0.25rem;
      margin-right: 1rem;
    }
    
    /* Typing indicator */
    .wa-typing {
      display: none;
      background: #1f2c34;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border-top-left-radius: 0;
      width: fit-content;
      margin-bottom: 0.5rem;
    }
    
    .wa-typing.show {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    
    .wa-typing-dot {
      width: 6px;
      height: 6px;
      background: rgba(255,255,255,0.4);
      border-radius: 50%;
      animation: typingBounce 1.4s infinite;
    }
    
    .wa-typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .wa-typing-dot:nth-child(3) { animation-delay: 0.4s; }
    
    @keyframes typingBounce {
      0%, 60%, 100% { transform: translateY(0); background: rgba(255,255,255,0.3); }
      30% { transform: translateY(-4px); background: rgba(255,255,255,0.7); }
    }
    
    /* Status indicators */
    .wa-status-bar {
      font-size: 0.6rem;
      color: var(--color-text-muted);
      text-align: center;
      padding: 0.25rem;
      background: rgba(0,0,0,0.3);
    }
    
    /* ===== ANIMATED FLOW ===== */
    .animated-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0;
      margin: 2rem 0;
      padding: 2rem 0;
    }
    
    .flow-step {
      padding: 1rem 1.25rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      text-align: center;
      min-width: 100px;
      position: relative;
      opacity: 0;
      transform: scale(0.8);
    }
    
    .flow-step.visible {
      opacity: 1;
      transform: scale(1);
      transition: all 0.5s var(--ease-out-expo);
    }
    
    .flow-step.active {
      border-color: var(--color-cyan);
      box-shadow: 0 0 25px var(--color-cyan-glow);
    }
    
    .flow-step.gate {
      border-color: var(--color-red);
      background: rgba(239, 68, 68, 0.05);
    }
    
    .flow-step.gate.active {
      box-shadow: 0 0 25px rgba(239, 68, 68, 0.4);
    }
    
    .flow-step strong {
      display: block;
      color: var(--color-text-primary);
      font-size: 0.8rem;
      margin-bottom: 0.2rem;
    }
    
    .flow-step span {
      font-size: 0.65rem;
      color: var(--color-text-muted);
    }
    
    .flow-connector {
      width: 30px;
      height: 2px;
      background: var(--color-border);
      position: relative;
      overflow: visible;
    }
    
    .flow-connector .pulse {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--color-cyan);
      border-radius: 50%;
      top: 50%;
      transform: translateY(-50%);
      left: -4px;
      opacity: 0;
      box-shadow: 0 0 10px var(--color-cyan);
    }
    
    .flow-connector.active .pulse {
      animation: pulseMove 0.6s ease-out forwards;
    }
    
    @keyframes pulseMove {
      0% { left: -4px; opacity: 1; }
      100% { left: calc(100% - 4px); opacity: 0; }
    }
    
    /* ===== TIMELINE ===== */
    .timeline {
      position: relative;
      margin: 2rem 0;
      padding-left: 40px;
    }
    
    .timeline::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      bottom: 0;
      width: 1px;
      background: linear-gradient(to bottom, var(--color-cyan), transparent);
      opacity: 0.3;
    }
    
    .timeline-item {
      position: relative;
      padding-bottom: 2rem;
    }
    
    .timeline-marker {
      position: absolute;
      left: -40px;
      top: 0;
      width: 16px;
      height: 16px;
      border: 2px solid var(--color-cyan);
      border-radius: 50%;
      background: var(--color-bg);
      transition: all 0.3s ease;
    }
    
    .timeline-item:hover .timeline-marker {
      background: var(--color-cyan);
      box-shadow: 0 0 20px var(--color-cyan-glow);
    }
    
    .timeline-content {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      padding: 1.25rem;
      transition: all 0.3s ease;
    }
    
    .timeline-content:hover {
      border-color: var(--color-cyan);
      transform: translateX(4px);
    }
    
    .timeline-phase {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--color-cyan);
      text-transform: uppercase;
      letter-spacing: 0.15em;
    }
    
    .timeline-content h4 {
      font-size: 1rem;
      margin: 0.5rem 0;
      color: var(--color-text-primary);
    }
    
    .timeline-content p {
      font-size: 0.875rem;
      margin-bottom: 0.75rem;
    }
    
    .timeline-duration {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--color-gold);
      background: rgba(201, 169, 98, 0.1);
      padding: 0.25rem 0.5rem;
      display: inline-block;
    }
    
    /* ===== ER DIAGRAM ===== */
    .er-diagram {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    
    .er-table {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .er-table:hover {
      border-color: var(--color-cyan);
      box-shadow: 0 0 20px var(--color-cyan-glow);
      transform: translateY(-2px);
    }
    
    .er-table-name {
      background: rgba(6, 182, 212, 0.1);
      padding: 0.6rem 0.75rem;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--color-cyan);
      border-bottom: 1px solid var(--color-border);
    }
    
    .er-table-cols {
      padding: 0.5rem 0.75rem;
      font-family: var(--font-mono);
      font-size: 0.65rem;
    }
    
    .er-col {
      padding: 0.2rem 0;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    
    .er-col .key { color: var(--color-gold); }
    .er-col .fk { color: var(--color-purple); }
    .er-col .name { color: var(--color-text-secondary); }
    .er-col .type { color: var(--color-text-muted); font-size: 0.6rem; }
    
    /* ===== CTA ===== */
    .cta-section {
      text-align: center;
      padding: 8rem 0;
    }
    
    .btn {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      padding: 1rem 2.5rem;
      text-decoration: none;
      transition: all 0.4s var(--ease-out-expo);
      position: relative;
      overflow: hidden;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s ease;
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn-primary {
      background: var(--color-gold);
      color: #000;
    }
    
    .btn-primary:hover {
      background: #D4B76E;
      box-shadow: 0 0 40px var(--color-gold-glow);
      transform: translateY(-2px);
    }
  </style>
</head>
<body>

<!-- Progress Bar -->
<div class="progress-bar" id="progressBar"></div>

<!-- Section Navigation -->
<nav class="section-nav" id="sectionNav">
  <div class="nav-dot active" data-section="0"><span class="tooltip">Overview</span></div>
  <div class="nav-dot" data-section="1"><span class="tooltip">Operating Model</span></div>
  <div class="nav-dot" data-section="2"><span class="tooltip">Architecture</span></div>
  <div class="nav-dot" data-section="3"><span class="tooltip">Technology</span></div>
  <div class="nav-dot" data-section="4"><span class="tooltip">Data Flow</span></div>
  <div class="nav-dot" data-section="5"><span class="tooltip">Database</span></div>
  <div class="nav-dot" data-section="6"><span class="tooltip">WhatsApp</span></div>
  <div class="nav-dot" data-section="7"><span class="tooltip">Compliance</span></div>
  <div class="nav-dot" data-section="8"><span class="tooltip">Security</span></div>
  <div class="nav-dot" data-section="9"><span class="tooltip">Timeline</span></div>
  <div class="nav-dot" data-section="10"><span class="tooltip">Insurance</span></div>
  <div class="nav-dot" data-section="11"><span class="tooltip">Approval</span></div>
</nav>

<!-- ===== 01: HERO ===== -->
<section class="section hero dot-grid" id="section-0">
  <div class="hero-bg-lines">
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
  </div>
  
  <div class="corner tl"></div>
  <div class="corner br"></div>
  <div class="scan-line"></div>
  
  <!-- Floating elements for parallax -->
  <div class="float-element float-circle" style="top: 10%; left: -5%;" data-speed="0.05"></div>
  <div class="float-element float-square" style="bottom: 20%; right: -3%;" data-speed="0.08"></div>
  
  <div class="container" style="position: relative; z-index: 1;">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Technical Architecture Overview</span>
    </div>
    
    <h1 class="fade-up">
      Aztec <span class="text-cyan">B.O.S</span>
      <span class="block">System Architecture</span>
    </h1>
    
    <p style="margin: 0 auto 2rem; text-align: center;" class="fade-up">
      A comprehensive technical deep-dive into the labour control, allocation and recruitment engine built for Aztec Landscapes.
    </p>
    
    <div class="stats-grid fade-up" style="max-width: 900px; margin: 3rem auto;">
      <div class="stat-item">
        <div class="stat-number" data-count="10">0</div>
        <div class="stat-label">Core Tables</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" data-count="25">0</div>
        <div class="stat-label">API Endpoints</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" data-count="3">0</div>
        <div class="stat-label">Integrations</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" data-count="1">0</div>
        <div class="stat-label">AI Agent</div>
      </div>
    </div>
    
    <div style="text-align: center; color: var(--color-text-muted); font-size: 0.875rem;" class="fade-up">
      <span>Prepared by Cold Lava</span>
      <span class="text-cyan" style="margin: 0 0.5rem;">•</span>
      <span>February 2026</span>
    </div>
  </div>
</section>

<!-- ===== 02: OPERATING MODEL ===== -->
<section class="section" id="section-1">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Operating Model / 002</span>
    </div>
    
    <h2 class="fade-up">Your <span class="text-gold">Operating</span> Model</h2>
    
    <p class="fade-up">Central labour control with one key principle: <strong class="text-cyan">Reallocation First</strong></p>
    
    <div class="grid fade-up" style="margin-top: 2rem;">
      <div class="card">
        <div class="card-number">01</div>
        <h4>Central Labour Control</h4>
        <p>All labour allocation flows through a single point (Liam). Site Managers, PMs and Directors request through him via WhatsApp.</p>
      </div>
      <div class="card">
        <div class="card-number">02</div>
        <h4>Reallocation First</h4>
        <p>Before external recruitment: 1) Reallocate finishing workers 2) Search internal database 3) Only then raise adverts.</p>
      </div>
      <div class="card">
        <div class="card-number">03</div>
        <h4>Skills & Rate Governance</h4>
        <p>Every allocation checks skill requirements against qualifications. Rate matrices enforced automatically.</p>
      </div>
      <div class="card">
        <div class="card-number">04</div>
        <h4>Compliance by Default</h4>
        <p>No operative works without valid RTW, Photo ID, and in-date CSCS. System blocks non-compliant allocations.</p>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">Trade Categories (Preloaded)</h3>
    
    <div class="grid grid-2 fade-up" style="margin-top: 1rem;">
      <div>
        <h4 style="color: var(--color-cyan); font-size: 0.9rem; margin-bottom: 1rem;">Blue Collar</h4>
        <table class="table" style="font-size: 0.8rem;">
          <tbody>
            <tr><td>Skilled Landscapers</td><td><span class="badge badge-cyan">CSCS Green</span></td></tr>
            <tr><td>General Labourers</td><td><span class="badge badge-cyan">CSCS Green</span></td></tr>
            <tr><td>Groundworkers</td><td><span class="badge badge-cyan">CSCS Green</span></td></tr>
            <tr><td>Pavers / Kerb Layers</td><td><span class="badge badge-cyan">CSCS Green</span></td></tr>
            <tr><td>Plant Operators</td><td><span class="badge badge-gold">CPCS/NPORS</span></td></tr>
            <tr><td>Drainage Operatives</td><td><span class="badge badge-cyan">CSCS Green</span></td></tr>
            <tr><td>Carpenters</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
            <tr><td>Bricklayers</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
            <tr><td>Stone Masons</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
            <tr><td>Steel Fixers</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
          </tbody>
        </table>
      </div>
      <div>
        <h4 style="color: var(--color-gold); font-size: 0.9rem; margin-bottom: 1rem;">White Collar</h4>
        <table class="table" style="font-size: 0.8rem;">
          <tbody>
            <tr><td>Site Managers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Project Managers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Engineers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Supervisors</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Design Managers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Document Controllers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Quantity Surveyors</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>H&S Officers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
          </tbody>
        </table>
        <p style="font-size: 0.75rem; margin-top: 1rem;">White collar: CVs searchable, full compliance docs collected when role offered.</p>
      </div>
    </div>
  </div>
</section>

<!-- ===== 03: ARCHITECTURE ===== -->
<section class="section line-grid" id="section-2">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Live Architecture / 002</span>
    </div>
    
    <h2 class="fade-up">System <span class="text-cyan">Architecture</span></h2>
    
    <p class="fade-up">Watch data flow through the system in real-time.</p>
    
    <div class="arch-svg-container fade-up">
      <svg class="arch-svg" viewBox="0 0 1000 550">
        <defs>
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
          <filter id="glowGold" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        
        <text x="500" y="30" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">USER INTERFACES</text>
        
        <!-- Liam Dashboard -->
        <g class="arch-node" data-node="dashboard">
          <rect x="60" y="50" width="160" height="80" rx="4" class="box box-cyan"/>
          <text x="140" y="85" text-anchor="middle" class="label-text">Liam Dashboard</text>
          <text x="140" y="105" text-anchor="middle" class="sub-text">Web Application</text>
        </g>
        
        <!-- Site Manager -->
        <g class="arch-node" data-node="site-manager">
          <rect x="260" y="50" width="160" height="80" rx="4" class="box box-green"/>
          <text x="340" y="85" text-anchor="middle" class="label-text">Site Manager</text>
          <text x="340" y="105" text-anchor="middle" class="sub-text">WhatsApp Bot</text>
        </g>
        
        <!-- Sophie AI -->
        <g class="arch-node" data-node="sophie">
          <rect x="460" y="50" width="160" height="80" rx="4" class="box box-purple"/>
          <text x="540" y="85" text-anchor="middle" class="label-text">Sophie AI</text>
          <text x="540" y="105" text-anchor="middle" class="sub-text">WhatsApp Agent</text>
        </g>
        
        <!-- Operative -->
        <g class="arch-node" data-node="operative">
          <rect x="660" y="50" width="160" height="80" rx="4" class="box box-gold"/>
          <text x="740" y="85" text-anchor="middle" class="label-text">Operative</text>
          <text x="740" y="105" text-anchor="middle" class="sub-text">WhatsApp</text>
        </g>
        
        <text x="500" y="180" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">API LAYER</text>
        
        <g class="arch-node" data-node="api">
          <rect x="200" y="200" width="600" height="90" rx="4" class="box box-cyan" style="stroke-width: 2;"/>
          <text x="500" y="235" text-anchor="middle" class="label-text" style="font-size: 14px;">Next.js API Layer</text>
          <text x="280" y="265" text-anchor="middle" class="sub-text">/operatives</text>
          <text x="400" y="265" text-anchor="middle" class="sub-text">/allocations</text>
          <text x="520" y="265" text-anchor="middle" class="sub-text">/ncrs</text>
          <text x="640" y="265" text-anchor="middle" class="sub-text">/webhooks</text>
          <text x="740" y="265" text-anchor="middle" class="sub-text">/documents</text>
        </g>
        
        <text x="500" y="340" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">DATA & SERVICES</text>
        
        <g class="arch-node" data-node="database">
          <rect x="100" y="360" width="200" height="90" rx="4" class="box box-cyan"/>
          <text x="200" y="400" text-anchor="middle" class="label-text">PostgreSQL</text>
          <text x="200" y="425" text-anchor="middle" class="sub-text">Supabase • London</text>
        </g>
        
        <g class="arch-node" data-node="storage">
          <rect x="340" y="360" width="160" height="90" rx="4" class="box box-gold"/>
          <text x="420" y="400" text-anchor="middle" class="label-text">File Storage</text>
          <text x="420" y="425" text-anchor="middle" class="sub-text">Documents</text>
        </g>
        
        <g class="arch-node" data-node="external">
          <rect x="540" y="360" width="260" height="90" rx="4" class="box box-green"/>
          <text x="670" y="395" text-anchor="middle" class="label-text">External Services</text>
          <text x="600" y="420" text-anchor="middle" class="sub-text">WhatsApp</text>
          <text x="670" y="420" text-anchor="middle" class="sub-text">OpenAI</text>
          <text x="740" y="420" text-anchor="middle" class="sub-text">Gov.uk</text>
        </g>
        
        <g class="connections">
          <!-- UI to API: Each connects at the x-coordinate matching its downstream path -->
          <path d="M 140 130 L 140 160 L 250 160 L 250 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          <path d="M 340 130 L 340 160 L 350 160 L 350 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          <path d="M 540 130 L 540 160 L 600 160 L 600 200" class="connection connection-purple flow-line" style="opacity: 0.6;"/>
          <path d="M 740 130 L 740 160 L 700 160 L 700 200" class="connection connection-gold flow-line" style="opacity: 0.6;"/>
          <!-- API to Data: Straight down from entry points -->
          <path d="M 250 290 L 250 320 L 200 320 L 200 360" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          <path d="M 350 290 L 350 320 L 200 320 L 200 360" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          <path d="M 600 290 L 600 320 L 670 320 L 670 360" class="connection connection-purple flow-line" style="opacity: 0.6;"/>
          <path d="M 700 290 L 700 320 L 670 320 L 670 360" class="connection connection-gold flow-line" style="opacity: 0.6;"/>
        </g>
        
        <g class="particles">
          <!-- Particle 1: Dashboard → API → Database (straight through) -->
          <circle class="data-particle" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.5s" repeatCount="indefinite"/>
            <animateMotion dur="3.5s" repeatCount="indefinite" path="M 140 130 L 140 160 L 250 160 L 250 200 L 250 290 L 250 320 L 200 320 L 200 360"/>
          </circle>
          <!-- Particle 2: Site Manager → API → Database (straight through) -->
          <circle class="data-particle" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.2s" repeatCount="indefinite" begin="1s"/>
            <animateMotion dur="3.2s" repeatCount="indefinite" begin="1s" path="M 340 130 L 340 160 L 350 160 L 350 200 L 350 290 L 350 320 L 200 320 L 200 360"/>
          </circle>
          <!-- Particle 3: Sophie → API → External (straight through) -->
          <circle class="data-particle-purple" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.8s" repeatCount="indefinite" begin="2s"/>
            <animateMotion dur="3.8s" repeatCount="indefinite" begin="2s" path="M 540 130 L 540 160 L 600 160 L 600 200 L 600 290 L 600 320 L 670 320 L 670 360"/>
          </circle>
          <!-- Particle 4: Operative → API → External (straight through) -->
          <circle class="data-particle-gold" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="4s" repeatCount="indefinite" begin="3s"/>
            <animateMotion dur="4s" repeatCount="indefinite" begin="3s" path="M 740 130 L 740 160 L 700 160 L 700 200 L 700 290 L 700 320 L 670 320 L 670 360"/>
          </circle>
        </g>
        
        <g transform="translate(900, 20)">
          <circle r="5" fill="#10B981">
            <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
          </circle>
          <text x="15" y="4" class="sub-text" style="fill: #10B981;">LIVE</text>
        </g>
      </svg>
    </div>
    
    <div class="grid grid-3 fade-up">
      <div class="card">
        <h4 class="text-cyan">4 User Interfaces</h4>
        <p>Liam's dashboard, Site Manager bot, Sophie AI agent, and Operative messaging — all connected.</p>
      </div>
      <div class="card">
        <h4 class="text-gold">Unified API Layer</h4>
        <p>Single API handling all operations. Serverless, auto-scaling, sub-100ms response times.</p>
      </div>
      <div class="card">
        <h4 class="text-green">3 External Integrations</h4>
        <p>WhatsApp Business API, OpenAI for Sophie, Gov.uk for RTW verification.</p>
      </div>
    </div>
  </div>
</section>

<!-- ===== 03: TECHNOLOGY DEEP DIVE ===== -->
<section class="section" id="section-3">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Technology / 003</span>
    </div>
    
    <h2 class="fade-up">Technology <span class="text-cyan">Stack</span></h2>
    
    <p class="fade-up">Every technology chosen for reliability, security, and long-term support. Here's what we're using and why.</p>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <!-- Supabase -->
      <div class="card" style="border-left: 3px solid var(--color-cyan);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/supabase/supabase-original.svg" alt="Supabase" style="width: 24px; height: 24px;"> Supabase
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> A managed database service built on PostgreSQL — the same database technology used by Instagram, Spotify, and Netflix.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>UK data centre (London) — your data stays in the UK</li>
          <li>Built-in authentication and security</li>
          <li>Row-level security for multi-tenant isolation</li>
          <li>Real-time subscriptions for live updates</li>
          <li>99.9% uptime guarantee</li>
        </ul>
        <span class="badge badge-cyan">Database</span>
        <span class="badge badge-green">Auth</span>
        <span class="badge badge-gold">Storage</span>
      </div>
      
      <!-- Vercel -->
      <div class="card" style="border-left: 3px solid var(--color-gold);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vercel/vercel-original.svg" alt="Vercel" style="width: 24px; height: 24px; filter: invert(1);"> Vercel
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> A cloud hosting platform that runs your web application. Think of it as the "building" where your software lives.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Global edge network — fast for users anywhere in the UK</li>
          <li>Automatic scaling — handles 10 users or 10,000 users</li>
          <li>Zero-downtime deployments — updates without interruption</li>
          <li>Built-in SSL certificates — secure by default</li>
          <li>Used by McDonald's, Twitch, and The Washington Post</li>
        </ul>
        <span class="badge badge-gold">Hosting</span>
        <span class="badge badge-cyan">CDN</span>
      </div>
      
      <!-- Next.js -->
      <div class="card" style="border-left: 3px solid var(--color-green);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-original.svg" alt="Next.js" style="width: 24px; height: 24px; filter: invert(1);"> Next.js
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> The framework that builds the actual web application — the screens, buttons, and interactions Liam will use daily.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Industry standard — used by Nike, Hulu, TikTok</li>
          <li>Fast page loads — content appears instantly</li>
          <li>Built by Vercel — perfect integration</li>
          <li>Huge developer ecosystem — easy to maintain</li>
          <li>Server and client in one codebase — simpler, faster</li>
        </ul>
        <span class="badge badge-green">Framework</span>
        <span class="badge badge-cyan">React</span>
      </div>
      
      <!-- GitHub -->
      <div class="card" style="border-left: 3px solid var(--color-purple);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" style="width: 24px; height: 24px; filter: invert(1);"> GitHub
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> Where all the code is stored and versioned. Like a filing cabinet that tracks every change ever made.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Industry standard — 100 million developers use it</li>
          <li>Complete history — see every change, who made it, when</li>
          <li>Owned by Microsoft — not going anywhere</li>
          <li>Automatic backups — code is never lost</li>
          <li>Collaboration tools — multiple developers can work safely</li>
        </ul>
        <span class="badge badge-purple">Code Storage</span>
        <span class="badge badge-gold">Version Control</span>
      </div>
      
      <!-- WhatsApp Business API -->
      <div class="card" style="border-left: 3px solid #25D366;">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 24px; height: 24px;"> WhatsApp Business API
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> The official way for businesses to send and receive WhatsApp messages programmatically.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Everyone already has WhatsApp — no app to download</li>
          <li>Official Meta API — reliable, compliant, supported</li>
          <li>End-to-end encryption — messages are secure</li>
          <li>Delivery receipts — know when messages are read</li>
          <li>~£0.03 per message — much cheaper than SMS</li>
        </ul>
        <span class="badge" style="background: rgba(37, 211, 102, 0.15); color: #25D366;">Messaging</span>
        <span class="badge badge-cyan">Official API</span>
      </div>
      
      <!-- OpenAI -->
      <div class="card" style="border-left: 3px solid #10a37f;">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/4d/OpenAI_Logo.svg" alt="OpenAI" style="width: 24px; height: 24px;"> OpenAI (Sophie AI)
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> The AI technology powering Sophie, your recruitment assistant who qualifies candidates 24/7.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>GPT-4 — the most capable AI model available</li>
          <li>Natural conversations — candidates don't know it's AI</li>
          <li>Understands context — handles follow-up questions</li>
          <li>~£0.30 per applicant — vs £500+ agency fee</li>
          <li>Works 24/7 — never sleeps, never takes holidays</li>
        </ul>
        <span class="badge" style="background: rgba(16, 163, 127, 0.15); color: #10a37f;">AI</span>
        <span class="badge badge-gold">GPT-4</span>
      </div>
    </div>
    
    <div class="card fade-up" style="margin-top: 2rem; border-color: var(--color-cyan); background: rgba(6, 182, 212, 0.05);">
      <h4 style="color: var(--color-cyan);">No Vendor Lock-In</h4>
      <p>All technologies use open standards. If you ever want to move providers, your data and code come with you. You own everything.</p>
    </div>
  </div>
</section>

<!-- ===== 04: DATA FLOW ===== -->
<section class="section dot-grid" id="section-4">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Data Flow / 003</span>
    </div>
    
    <h2 class="fade-up">Labour Request <span class="text-cyan">Flow</span></h2>
    
    <p class="fade-up">Watch a labour request flow through the system.</p>
    
    <div class="animated-flow" id="labour-flow">
      <div class="flow-step" data-step="1"><strong>1. Request</strong><span>Site need</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="2"><strong>2. Realloc</strong><span>Check jobs</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="3"><strong>3. Search</strong><span>Labour pool</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="4"><strong>4. Match</strong><span>Skills+loc</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="5"><strong>5. Offer</strong><span>WhatsApp</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="6"><strong>6. Confirm</strong><span>Accept</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step active" data-step="7"><strong>7. Allocate</strong><span>Complete</span></div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">Sophie AI Qualification</h3>
    
    <div class="animated-flow" id="sophie-flow">
      <div class="flow-step" data-step="1"><strong>Greeting</strong><span>Job details</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step gate" data-step="2"><strong>RTW?</strong><span>GATE 1</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step gate" data-step="3"><strong>18+?</strong><span>GATE 2</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="4"><strong>CSCS</strong><span>Card check</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="5"><strong>Details</strong><span>Info</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step" data-step="6"><strong>Docs</strong><span>Upload</span></div>
      <div class="flow-connector"><div class="pulse"></div></div>
      <div class="flow-step active" data-step="7"><strong>Qualified</strong><span>→ Liam</span></div>
    </div>
  </div>
</section>

<!-- ===== 04: DATABASE ===== -->
<section class="section" id="section-5">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Database / 004</span>
    </div>
    
    <h2 class="fade-up">Database <span class="text-cyan">Schema</span></h2>
    
    <p class="fade-up">10 core tables with full referential integrity.</p>
    
    <div class="er-diagram fade-up">
      <div class="er-table">
        <div class="er-table-name">operatives</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="name">first_name, last_name</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">trade_category_id</span></div>
          <div class="er-col"><span class="name">day_rate, status</span></div>
          <div class="er-col"><span class="name">avg_rating</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">allocations</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">site_id</span></div>
          <div class="er-col"><span class="name">start_date, end_date</span></div>
          <div class="er-col"><span class="name">status</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">documents</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">document_type</span></div>
          <div class="er-col"><span class="name">expiry_date</span></div>
          <div class="er-col"><span class="name">is_verified</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">ncrs</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">incident_type</span></div>
          <div class="er-col"><span class="name">severity</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">sites</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="name">name, address</span></div>
          <div class="er-col"><span class="name">postcode, lat, lng</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">comms_log</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">channel, direction</span></div>
          <div class="er-col"><span class="name">message_body</span></div>
        </div>
      </div>
    </div>
    
    <div class="code-block code-typing fade-up" id="sql-code">
      <div class="code-header">
        <span class="code-dot red"></span>
        <span class="code-dot yellow"></span>
        <span class="code-dot green"></span>
        <span class="code-title">operatives.sql</span>
      </div>
      <pre><span class="line"><span class="keyword">CREATE TABLE</span> <span class="type">operatives</span> (</span>
<span class="line">  id <span class="type">UUID</span> <span class="keyword">PRIMARY KEY</span>,</span>
<span class="line">  first_name <span class="type">VARCHAR(100)</span> <span class="keyword">NOT NULL</span>,</span>
<span class="line">  phone <span class="type">VARCHAR(20)</span> <span class="keyword">UNIQUE</span>,</span>
<span class="line">  day_rate <span class="type">DECIMAL(8,2)</span>,</span>
<span class="line">  rtw_verified <span class="type">BOOLEAN</span> <span class="keyword">DEFAULT</span> <span class="string">false</span>,</span>
<span class="line">  cscs_expiry <span class="type">DATE</span>,</span>
<span class="line">  avg_rating <span class="type">DECIMAL(3,2)</span>,</span>
<span class="line">  status <span class="type">VARCHAR(50)</span></span>
<span class="line">);</span></pre>
    </div>
  </div>
</section>

<!-- ===== 05: WHATSAPP ===== -->
<section class="section line-grid" id="section-6">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">WhatsApp / 005</span>
    </div>
    
    <h2 class="fade-up">WhatsApp <span class="text-green">Integration</span></h2>
    
    <div class="grid grid-3 fade-up" style="margin-top: 2rem;">
      <div>
        <h3 style="color: var(--color-green);">Arrival Check</h3>
        <div class="whatsapp-chat wa-loop" id="wa-chat-1">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, #25D366, #128C7E);">
              <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="" style="width: 16px; height: 16px; filter: brightness(10);">
            </div>
            <div>
              <div class="whatsapp-name">Aztec BOS</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg incoming" data-delay="800">Good morning! 🌅<br>Did <strong>John Smith</strong> arrive at <strong>Westfield</strong>?<br><br>Reply YES or NO<div class="wa-time">07:15</div></div>
            <div class="wa-msg outgoing" data-delay="2500">YES<div class="wa-time">07:18</div></div>
            <div class="wa-msg incoming" data-delay="3500">✅ <strong>Arrival confirmed</strong><br>Clock-in: 07:18<br>Site: Westfield Shopping Centre<div class="wa-time">07:18</div></div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-red);">NCR Report</h3>
        <div class="whatsapp-chat wa-loop" id="wa-chat-2">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, var(--color-red), #b91c1c);">PM</div>
            <div>
              <div class="whatsapp-name">Marcus (PM)</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg outgoing" data-delay="500">Red card John Smith - walked off site at 2pm<div class="wa-time">14:30</div></div>
            <div class="wa-msg incoming" data-delay="1800">⚠️ <strong>NCR #247 Created</strong><br><br>Operative: John Smith<br>Type: Walk-off<br>Time: 14:00<br><br>Need replacement?<div class="wa-time">14:30</div></div>
            <div class="wa-msg outgoing" data-delay="3500">YES urgent<div class="wa-time">14:31</div></div>
            <div class="wa-msg incoming" data-delay="4500">🔄 Liam notified<br>Searching available operatives...<div class="wa-time">14:31</div></div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-gold);">Shift Offer</h3>
        <div class="whatsapp-chat wa-loop" id="wa-chat-3">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, #25D366, #128C7E);">
              <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="" style="width: 16px; height: 16px; filter: brightness(10);">
            </div>
            <div>
              <div class="whatsapp-name">Aztec BOS</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg incoming" data-delay="800">Hi Dave! 👋<br><br>Shift available:<br>📍 <strong>Westfield</strong>, W12 7GF<br>📅 Tomorrow, 7am start<br>💷 £180/day<br>🔧 General Labourer<br><br>Reply YES to confirm<div class="wa-time">16:00</div></div>
            <div class="wa-msg outgoing" data-delay="3000">YES<div class="wa-time">16:02</div></div>
            <div class="wa-msg incoming" data-delay="4000">✅ <strong>Shift Confirmed!</strong><br><br>📍 Westfield Shopping Centre<br>📅 Mon 5th Feb, 07:00<br>👷 Report to: Marcus<br><br>Good luck! 🚧<div class="wa-time">16:02</div></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 06: COMPLIANCE ===== -->
<section class="section dot-grid" id="section-7">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Compliance / 006</span>
    </div>
    
    <h2 class="fade-up">Compliance <span class="text-red">Engine</span></h2>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div>
        <h3>Pre-Start Checks</h3>
        <div class="code-block code-typing" id="compliance-code">
          <div class="code-header">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
            <span class="code-title">canStart.ts</span>
          </div>
          <pre><span class="line"><span class="keyword">function</span> <span class="function">canStart</span>(op) {</span>
<span class="line">  <span class="keyword">const</span> blockers = [];</span>
<span class="line">  </span>
<span class="line">  <span class="keyword">if</span> (!op.rtwVerified)</span>
<span class="line">    blockers.push(<span class="string">'RTW'</span>);</span>
<span class="line">  <span class="keyword">if</span> (op.cscsExpiry < now)</span>
<span class="line">    blockers.push(<span class="string">'CSCS'</span>);</span>
<span class="line">  <span class="keyword">if</span> (op.status === <span class="string">'blocked'</span>)</span>
<span class="line">    blockers.push(<span class="string">'Blocked'</span>);</span>
<span class="line">  </span>
<span class="line">  <span class="keyword">return</span> blockers.length === 0;</span>
<span class="line">}</span></pre>
        </div>
      </div>
      
      <div>
        <h3>Document Alerts</h3>
        <table class="table">
          <thead><tr><th>Document</th><th>Alert Days</th><th>Action</th></tr></thead>
          <tbody>
            <tr><td>Right to Work</td><td>30, 14, 7, 0</td><td><span class="badge badge-red">Blocks</span></td></tr>
            <tr><td>CSCS Card</td><td>60, 30, 14, 0</td><td><span class="badge badge-red">Blocks</span></td></tr>
            <tr><td>CPCS/NPORS</td><td>30, 14, 7</td><td><span class="badge badge-gold">Warns</span></td></tr>
          </tbody>
        </table>
        <div class="card" style="margin-top: 1rem; border-color: var(--color-red);">
          <h4 style="color: var(--color-red);">Zero Exceptions</h4>
          <p>No overrides. System enforces at database level.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 07: SECURITY ===== -->
<section class="section" id="section-8">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Security / 007</span>
    </div>
    
    <h2 class="fade-up">Security & <span class="text-red">Data Protection</span></h2>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem;">
      <div>
        <h3 style="color: var(--color-cyan);">Data Protection</h3>
        <table class="table">
          <tbody>
            <tr><td><strong>UK Data Residency</strong></td><td>Supabase eu-west-2 (London)</td></tr>
            <tr><td><strong>Encryption at Rest</strong></td><td>AES-256</td></tr>
            <tr><td><strong>Encryption in Transit</strong></td><td>TLS 1.3</td></tr>
            <tr><td><strong>GDPR Compliant</strong></td><td>Right to access, rectification, deletion</td></tr>
            <tr><td><strong>Database Download</strong></td><td><span class="badge badge-red">Blocked</span></td></tr>
          </tbody>
        </table>
      </div>
      <div>
        <h3 style="color: var(--color-gold);">Access Controls</h3>
        <table class="table">
          <tbody>
            <tr><td><strong>Authentication</strong></td><td>Supabase Auth (email/password)</td></tr>
            <tr><td><strong>Authorization</strong></td><td>Role-based (Director, Labour Manager, Site Manager)</td></tr>
            <tr><td><strong>Row-Level Security</strong></td><td>PostgreSQL RLS policies</td></tr>
            <tr><td><strong>MFA</strong></td><td>Optional 2FA available</td></tr>
            <tr><td><strong>Audit Trail</strong></td><td>Every action logged (who/when/what)</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem;">Row-Level Security Policy</h3>
    
    <div class="code-block code-typing fade-up">
      <div class="code-header">
        <span class="code-dot red"></span>
        <span class="code-dot yellow"></span>
        <span class="code-dot green"></span>
        <span class="code-title">rls_policy.sql</span>
      </div>
      <pre><span class="line"><span class="comment">-- Users only see their organization's data</span></span>
<span class="line"><span class="keyword">CREATE POLICY</span> <span class="string">"org_isolation"</span></span>
<span class="line"><span class="keyword">ON</span> operatives <span class="keyword">FOR SELECT</span></span>
<span class="line"><span class="keyword">USING</span> (</span>
<span class="line">  organization_id = (</span>
<span class="line">    <span class="keyword">SELECT</span> organization_id</span>
<span class="line">    <span class="keyword">FROM</span> users</span>
<span class="line">    <span class="keyword">WHERE</span> id = <span class="function">auth.uid</span>()</span>
<span class="line">  )</span>
<span class="line">);</span></pre>
    </div>
    
    <div class="card fade-up" style="margin-top: 1.5rem; border-color: var(--color-red);">
      <h4 style="color: var(--color-red);">Database Cannot Be Downloaded</h4>
      <p>Per BOS Bible: Controls in place to ensure the operative database cannot be bulk exported. Data stays in the system.</p>
    </div>
  </div>
</section>

<!-- ===== 08: TIMELINE ===== -->
<section class="section line-grid" id="section-9">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Timeline / 007</span>
    </div>
    
    <h2 class="fade-up">Implementation <span class="text-cyan">Timeline</span></h2>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 1</span>
            <h4>Discovery & Foundation</h4>
            <p>Requirements, database, auth setup.</p>
            <span class="timeline-duration">2 Weeks</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 2</span>
            <h4>Core Build</h4>
            <p>Operatives, sites, allocations, compliance.</p>
            <span class="timeline-duration">6 Weeks</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 3</span>
            <h4>Communications</h4>
            <p>WhatsApp, Sophie AI, NCR flow.</p>
            <span class="timeline-duration">3 Weeks</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 4</span>
            <h4>Polish & Deploy</h4>
            <p>Testing, training, go-live.</p>
            <span class="timeline-duration">3 Weeks</span>
          </div>
        </div>
      </div>
      
      <div>
        <h3>Deliverables</h3>
        <div class="card" style="margin-bottom: 1rem;"><h4 class="text-cyan">Phase 1</h4><p>✓ Database live<br>✓ Auth working<br>✓ Dashboard shell</p></div>
        <div class="card" style="margin-bottom: 1rem;"><h4 class="text-gold">Phase 2</h4><p>✓ Operative management<br>✓ Document tracking<br>✓ Allocations</p></div>
        <div class="card" style="margin-bottom: 1rem;"><h4 class="text-green">Phase 3</h4><p>✓ WhatsApp connected<br>✓ Sophie live<br>✓ NCR via WhatsApp</p></div>
        <div class="card"><h4 class="text-purple">Phase 4</h4><p>✓ UAT complete<br>✓ Training done<br>✓ Go-live</p></div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 10: RISK & INSURANCE ===== -->
<section class="section" id="section-10">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Risk & Insurance / 010</span>
    </div>
    
    <h2 class="fade-up">Key Person <span class="text-gold">Insurance</span></h2>
    
    <p class="fade-up">Protecting your investment and ensuring business continuity.</p>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div>
        <h3 style="color: var(--color-gold);">What is Key Person Insurance?</h3>
        <p style="margin-bottom: 1.5rem;">Key Person Insurance protects businesses against the loss of individuals critical to operations. For the BOS project, this covers scenarios where Cold Lava's key developers become unavailable.</p>
        
        <div class="card" style="border-left: 3px solid var(--color-gold);">
          <h4>Coverage Includes</h4>
          <ul style="color: var(--color-text-secondary); font-size: 0.875rem; padding-left: 1.25rem;">
            <li>Costs to hire replacement developers</li>
            <li>Training time for new team members</li>
            <li>Project delays and business interruption</li>
            <li>Documentation and knowledge transfer</li>
          </ul>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-cyan);">Your Protections</h3>
        
        <div class="card" style="margin-bottom: 1rem; border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ Full Code Ownership</h4>
          <p>All code is stored in <strong>your</strong> GitHub repository (Aztec-Landscapes). You own it. Any developer can pick it up.</p>
        </div>
        
        <div class="card" style="margin-bottom: 1rem; border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ Industry-Standard Stack</h4>
          <p>We use mainstream technologies (Next.js, Supabase, PostgreSQL). Thousands of developers worldwide can work on this.</p>
        </div>
        
        <div class="card" style="margin-bottom: 1rem; border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ Comprehensive Documentation</h4>
          <p>Every system is documented. Database schemas, API specs, deployment guides — all maintained in the repository.</p>
        </div>
        
        <div class="card" style="border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ No Proprietary Lock-In</h4>
          <p>No custom frameworks or obscure libraries. If Cold Lava disappeared tomorrow, any competent agency could continue the work.</p>
        </div>
      </div>
    </div>
    
    <div class="card fade-up" style="margin-top: 2rem; border-color: var(--color-gold); background: rgba(201, 169, 98, 0.05);">
      <h4 style="color: var(--color-gold);">Cold Lava's Recommendation</h4>
      <p>While the technical risk is mitigated by code ownership and standard technologies, we recommend discussing key person insurance with your business insurance provider. This provides financial protection and peace of mind for a mission-critical system.</p>
    </div>
  </div>
</section>

<!-- ===== 11: APPROVAL ===== -->
<section class="section cta-section dot-grid" id="section-11">
  <div class="corner tl"></div>
  <div class="corner br"></div>
  
  <div class="container">
    <div class="section-label fade-up" style="justify-content: center;">
      <div class="label-line"></div>
      <span class="label">Architecture Sign-Off / 008</span>
    </div>
    
    <h2 class="fade-up" style="font-size: clamp(2rem, 5vw, 3.5rem);">
      Architecture <span class="text-gold">Approval</span>
    </h2>
    
    <p class="fade-up" style="max-width: 600px; margin: 0 auto 2rem; text-align: center;">
      Review the technical architecture. Confirm this matches your operational requirements.
    </p>
    
    <div class="stats-grid fade-up" style="max-width: 800px; margin: 2rem auto;">
      <div class="stat-item"><div class="stat-number">12-16</div><div class="stat-label">Weeks</div></div>
      <div class="stat-item"><div class="stat-number">£55k</div><div class="stat-label">Investment</div></div>
      <div class="stat-item"><div class="stat-number">£120k</div><div class="stat-label">Annual Saving</div></div>
      <div class="stat-item"><div class="stat-number">&lt;12mo</div><div class="stat-label">ROI</div></div>
    </div>
    
    <div class="fade-up" style="margin-top: 3rem; text-align: center;">
      <a href="mailto:oliver@coldlava.ai" class="btn btn-primary">Approve Architecture</a>
    </div>
    
    <div class="fade-up" style="margin-top: 4rem; color: var(--color-text-muted); font-size: 0.875rem; text-align: center;">
      <p>oliver@coldlava.ai • jacob@coldlava.ai</p>
      <p class="mono" style="margin-top: 1rem;">© 2026 Cold Lava AI Ltd</p>
    </div>
  </div>
</section>

<div class="grain"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<script>
  gsap.registerPlugin(ScrollTrigger);
  
  // ===== PROGRESS BAR =====
  gsap.to('#progressBar', {
    width: '100%',
    ease: 'none',
    scrollTrigger: {
      trigger: document.body,
      start: 'top top',
      end: 'bottom bottom',
      scrub: 0.3
    }
  });
  
  // ===== SECTION NAV =====
  const sections = document.querySelectorAll('.section');
  const navDots = document.querySelectorAll('.nav-dot');
  
  sections.forEach((section, i) => {
    ScrollTrigger.create({
      trigger: section,
      start: 'top center',
      end: 'bottom center',
      onEnter: () => updateNav(i),
      onEnterBack: () => updateNav(i)
    });
  });
  
  function updateNav(index) {
    navDots.forEach((dot, i) => {
      dot.classList.toggle('active', i === index);
    });
  }
  
  navDots.forEach(dot => {
    dot.addEventListener('click', () => {
      const sectionIndex = dot.dataset.section;
      const target = document.getElementById(`section-${sectionIndex}`);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
  
  // ===== PARALLAX FLOATING ELEMENTS =====
  document.querySelectorAll('.float-element').forEach(el => {
    const speed = el.dataset.speed || 0.05;
    gsap.to(el, {
      y: () => window.innerHeight * speed,
      ease: 'none',
      scrollTrigger: {
        trigger: el.closest('.section'),
        start: 'top bottom',
        end: 'bottom top',
        scrub: true
      }
    });
  });
  
  // ===== FADE UP =====
  gsap.utils.toArray('.fade-up').forEach(el => {
    gsap.to(el, {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: 'power3.out',
      scrollTrigger: {
        trigger: el,
        start: 'top 85%',
        toggleActions: 'play none none none'
      }
    });
  });
  
  // ===== STAT COUNTERS =====
  gsap.utils.toArray('.stat-number[data-count]').forEach(stat => {
    const target = parseFloat(stat.dataset.count);
    ScrollTrigger.create({
      trigger: stat,
      start: 'top 80%',
      onEnter: () => {
        stat.closest('.stat-item')?.classList.add('animate');
        gsap.to(stat, {
          textContent: target,
          duration: 2,
          ease: 'power2.out',
          snap: { textContent: 1 },
          onUpdate: function() {
            stat.textContent = Math.round(this.targets()[0].textContent);
          }
        });
      },
      once: true
    });
  });
  
  // ===== ANIMATED FLOW =====
  function animateFlow(selector) {
    const container = document.querySelector(selector);
    if (!container) return;
    
    const steps = container.querySelectorAll('.flow-step');
    const connectors = container.querySelectorAll('.flow-connector');
    
    ScrollTrigger.create({
      trigger: container,
      start: 'top 70%',
      onEnter: () => {
        let delay = 0;
        steps.forEach((step, i) => {
          setTimeout(() => {
            step.classList.add('visible');
            step.classList.add('active');
            if (i > 0) setTimeout(() => steps[i-1].classList.remove('active'), 300);
          }, delay);
          if (i < connectors.length) {
            setTimeout(() => {
              connectors[i].classList.add('active');
              setTimeout(() => connectors[i].classList.remove('active'), 600);
            }, delay + 300);
          }
          delay += 350;
        });
      },
      once: true
    });
  }
  
  animateFlow('#labour-flow');
  animateFlow('#sophie-flow');
  
  // ===== CODE TYPING =====
  document.querySelectorAll('.code-typing').forEach(block => {
    ScrollTrigger.create({
      trigger: block,
      start: 'top 75%',
      onEnter: () => block.classList.add('animate'),
      once: true
    });
  });
  
  // ===== WHATSAPP MESSAGES (LOOPING) =====
  function animateWhatsAppChat(chat) {
    const messages = chat.querySelectorAll('.wa-msg');
    const typing = chat.querySelector('.wa-typing');
    let currentIndex = 0;
    let isAnimating = false;
    
    function resetChat() {
      messages.forEach(msg => {
        msg.classList.remove('animate', 'fade-out');
        msg.style.display = 'none';
      });
      if (typing) typing.classList.remove('show');
      currentIndex = 0;
    }
    
    function showNextMessage() {
      if (currentIndex >= messages.length) {
        // All messages shown, wait then reset
        setTimeout(() => {
          // Fade out all messages
          messages.forEach(msg => msg.classList.add('fade-out'));
          setTimeout(() => {
            resetChat();
            setTimeout(showNextMessage, 500);
          }, 400);
        }, 3000);
        return;
      }
      
      const msg = messages[currentIndex];
      const delay = parseInt(msg.dataset.delay) || 800;
      const isIncoming = msg.classList.contains('incoming');
      
      // Show typing indicator for incoming messages
      if (isIncoming && typing) {
        typing.classList.add('show');
        setTimeout(() => {
          typing.classList.remove('show');
          msg.style.display = 'block';
          msg.classList.add('animate');
          currentIndex++;
          setTimeout(showNextMessage, 300);
        }, delay);
      } else {
        // Outgoing message - shorter delay
        setTimeout(() => {
          msg.style.display = 'block';
          msg.classList.add('animate');
          currentIndex++;
          setTimeout(showNextMessage, 300);
        }, delay);
      }
    }
    
    // Start animation when chat enters viewport
    ScrollTrigger.create({
      trigger: chat,
      start: 'top 75%',
      onEnter: () => {
        if (!isAnimating) {
          isAnimating = true;
          resetChat();
          setTimeout(showNextMessage, 500);
        }
      }
    });
  }
  
  document.querySelectorAll('.whatsapp-chat.wa-loop').forEach(animateWhatsAppChat);
  
  // ===== ARCHITECTURE HOVER =====
  document.querySelectorAll('.arch-node').forEach(node => {
    node.addEventListener('mouseenter', () => {
      gsap.to(node.querySelector('.box'), { strokeWidth: 2.5, duration: 0.3 });
    });
    node.addEventListener('mouseleave', () => {
      gsap.to(node.querySelector('.box'), { strokeWidth: 1.5, duration: 0.3 });
    });
  });
</script>

</body>
</html>
