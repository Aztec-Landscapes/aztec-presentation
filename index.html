<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aztec B.O.S: Technical Architecture</title>
  
  <link rel="icon" type="image/png" href="https://cdn.brandfetch.io/coldlava.ai/w/64/h/64/icon">
  <link rel="apple-touch-icon" href="https://cdn.brandfetch.io/coldlava.ai/w/180/h/180/icon">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
    }
    
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: #030305;
      color: #fff;
      line-height: 1.7;
      overflow-x: hidden;
      letter-spacing: -0.01em;
    }
    
    :root {
      --color-bg: #030305;
      --color-bg-elevated: #0a0a0f;
      --color-bg-card: rgba(255, 255, 255, 0.02);
      --color-bg-glass: rgba(255, 255, 255, 0.03);
      --color-cyan: #D4AF37;
      --color-cyan-glow: rgba(212, 175, 55, 0.35);
      --color-gold: #D4AF37;
      --color-gold-glow: rgba(212, 175, 55, 0.35);
      --color-green: #34D399;
      --color-red: #F87171;
      --color-purple: #A78BFA;
      --color-text-primary: rgba(255, 255, 255, 0.95);
      --color-text-secondary: rgba(255, 255, 255, 0.65);
      --color-text-muted: rgba(255, 255, 255, 0.35);
      --color-border: rgba(255, 255, 255, 0.08);
      --color-border-subtle: rgba(255, 255, 255, 0.04);
      --font-mono: 'JetBrains Mono', monospace;
      --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
      --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
      --shadow-glow: 0 0 60px -10px;
      --radius-lg: 16px;
      --radius-md: 12px;
      --radius-sm: 8px;
    }
    
    /* Premium subtle grain texture overlay */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      opacity: 0.015;
      pointer-events: none;
      z-index: 10001;
    }
    
    /* Ambient gradient orbs */
    body::after {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: 
        radial-gradient(ellipse at 20% 20%, rgba(212, 175, 55, 0.03) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(212, 175, 55, 0.03) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(167, 139, 250, 0.02) 0%, transparent 40%);
      pointer-events: none;
      z-index: -1;
      /* Animation removed - was causing page instability */
    }
    
    /* ===== PROGRESS BAR (Premium) ===== */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 2px;
      background: linear-gradient(90deg, var(--color-gold), var(--color-gold), var(--color-purple));
      z-index: 10000;
      transition: width 0.15s var(--ease-smooth);
      box-shadow: 0 0 20px var(--color-gold-glow), 0 0 40px var(--color-gold-glow);
    }
    
    /* ===== SECTION NAV ===== */
    .section-nav {
      position: fixed;
      right: 2rem;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .nav-dot {
      width: 12px;
      height: 12px;
      border: 1px solid var(--color-border);
      border-radius: 50%;
      background: transparent;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .nav-dot:hover {
      border-color: var(--color-gold);
      transform: scale(1.2);
    }
    
    .nav-dot.active {
      background: var(--color-gold);
      border-color: var(--color-gold);
      box-shadow: 0 0 15px var(--color-gold-glow);
    }
    
    .nav-dot .tooltip {
      position: absolute;
      right: 24px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.9);
      border: 1px solid var(--color-border);
      padding: 0.5rem 0.75rem;
      font-size: 0.7rem;
      font-family: var(--font-mono);
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .nav-dot:hover .tooltip {
      opacity: 1;
    }
    
    @media (max-width: 768px) {
      .section-nav { display: none; }
    }
    
    /* ===== CONTAINER ===== */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    .section {
      min-height: 100vh;
      padding: 6rem 0;
      position: relative;
    }
    
    .mono { font-family: var(--font-mono); }
    .text-gold { color: var(--color-gold); }
    .text-gold { color: var(--color-gold); }
    .text-green { color: var(--color-green); }
    .text-red { color: var(--color-red); }
    .text-purple { color: var(--color-purple); }
    
    .fade-up {
      opacity: 0;
      transform: translateY(40px);
    }
    
    .scale-in {
      opacity: 0;
      transform: scale(0.9);
    }
    
    /* ===== BACKGROUNDS ===== */
    .dot-grid {
      background-image: radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 32px 32px;
    }
    
    .line-grid {
      background-image: 
        linear-gradient(rgba(6, 182, 212, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(6, 182, 212, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
    }
    
    /* Parallax floating elements */
    .float-element {
      position: absolute;
      pointer-events: none;
      opacity: 0.1;
    }
    
    .float-circle {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 1px solid var(--color-gold);
    }
    
    .float-square {
      width: 200px;
      height: 200px;
      border: 1px solid var(--color-gold);
      transform: rotate(45deg);
    }
    
    .grain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    }
    
    /* ===== SECTION LABELS (Premium) ===== */
    .section-label {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    
    .label-line {
      width: 60px;
      height: 1px;
      background: linear-gradient(90deg, var(--color-gold), var(--color-gold), transparent);
      opacity: 0.6;
    }
    
    .label {
      font-family: var(--font-mono);
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.25em;
      color: var(--color-gold);
      opacity: 0.8;
      font-weight: 500;
    }
    
    /* ===== TYPOGRAPHY (Premium) ===== */
    h1 {
      font-size: clamp(3rem, 10vw, 5.5rem);
      font-weight: 800;
      letter-spacing: -0.04em;
      line-height: 0.9;
      margin-bottom: 1.5rem;
      background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.8) 50%, #fff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    h1 .text-gold {
      background: linear-gradient(135deg, var(--color-gold), #E5C158);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    h2 {
      font-size: clamp(1.75rem, 5vw, 2.75rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1.1;
      margin-bottom: 1.5rem;
    }
    
    h3 {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--color-gold);
      letter-spacing: -0.01em;
    }
    
    p {
      color: var(--color-text-secondary);
      font-size: 1.05rem;
      max-width: 700px;
      line-height: 1.7;
    }
    
    strong {
      color: var(--color-text-primary);
      font-weight: 600;
    }
    
    /* ===== HERO ===== */
    .hero {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .hero-title .block {
      display: block;
      color: var(--color-text-muted);
      font-weight: 300;
      font-style: italic;
    }
    
    .corner {
      position: absolute;
      width: 100px;
      height: 100px;
      border-color: var(--color-gold);
      border-style: solid;
      border-width: 0;
      opacity: 0.3;
    }
    
    .corner.tl { top: 2rem; left: 2rem; border-top-width: 1px; border-left-width: 1px; }
    .corner.br { bottom: 2rem; right: 2rem; border-bottom-width: 1px; border-right-width: 1px; }
    
    /* Scan line removed for cleaner design */
    
    /* Flow steps - no animation, static display */
    .flow-step {
      transition: box-shadow 0.3s ease;
    }
    .flow-step:hover {
      box-shadow: 0 0 15px currentColor;
    }
    
    /* Animated background lines */
    .hero-bg-lines {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: hidden;
      pointer-events: none;
    }
    
    .hero-bg-lines .line {
      position: absolute;
      width: 1px;
      height: 100%;
      background: linear-gradient(to bottom, transparent, var(--color-gold), transparent);
      opacity: 0.1;
      animation: linePulse 3s ease-in-out infinite;
    }
    
    .hero-bg-lines .line:nth-child(1) { left: 10%; animation-delay: 0s; }
    .hero-bg-lines .line:nth-child(2) { left: 25%; animation-delay: 0.5s; }
    .hero-bg-lines .line:nth-child(3) { left: 50%; animation-delay: 1s; }
    .hero-bg-lines .line:nth-child(4) { left: 75%; animation-delay: 1.5s; }
    .hero-bg-lines .line:nth-child(5) { left: 90%; animation-delay: 2s; }
    
    @keyframes linePulse {
      0%, 100% { opacity: 0.05; }
      50% { opacity: 0.15; }
    }
    
    /* ===== GRID ===== */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(4, 1fr); }
    .grid-5 { grid-template-columns: repeat(5, 1fr); }
    
    @media (max-width: 1024px) {
      .grid-2, .grid-3, .grid-4, .grid-5 { grid-template-columns: 1fr; }
    }
    
    @media (min-width: 600px) and (max-width: 1024px) {
      .grid-5 { grid-template-columns: repeat(3, 1fr); }
    }
    
    /* ===== CARDS (Premium Glassmorphism) ===== */
    .card {
      position: relative;
      padding: 1.75rem;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      transition: all 0.6s var(--ease-out-expo);
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.6s var(--ease-out-expo);
    }
    
    .card::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.02) 0%, transparent 50%);
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.6s var(--ease-out-expo);
    }
    
    .card:hover {
      border-color: rgba(255, 255, 255, 0.15);
      box-shadow: 
        0 20px 40px -15px rgba(0, 0, 0, 0.5),
        0 0 60px -20px var(--color-gold-glow),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      transform: translateY(-6px);
    }
    
    .card:hover::before {
      transform: scaleX(1);
    }
    
    .card:hover::after {
      opacity: 1;
    }
    
    .card-number {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      color: var(--color-gold);
      opacity: 0.6;
      margin-bottom: 0.75rem;
      letter-spacing: 0.1em;
    }
    
    .card h4 {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--color-text-primary);
      letter-spacing: -0.02em;
    }
    
    .card p {
      font-size: 0.875rem;
      margin-bottom: 0;
    }
    
    /* ===== STATS ===== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    @media (max-width: 768px) {
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
    
    .stat-item {
      text-align: center;
      padding: 2rem 1.5rem;
      background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      position: relative;
      overflow: hidden;
      transition: all 0.5s var(--ease-out-expo);
    }
    
    .stat-item:hover {
      border-color: rgba(255,255,255,0.15);
      transform: translateY(-4px);
      box-shadow: 0 20px 40px -15px rgba(0,0,0,0.3);
    }
    
    .stat-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
      opacity: 0.5;
    }
    
    .stat-item::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--color-gold), var(--color-gold));
      transform: scaleX(0);
      transition: transform 1.2s var(--ease-out-expo);
    }
    
    .stat-item.animate::after {
      transform: scaleX(1);
    }
    
    .stat-number {
      font-size: 2.75rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--color-gold), var(--color-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
      letter-spacing: -0.03em;
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: var(--color-text-muted);
      margin-top: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-weight: 500;
    }
    
    /* ===== BADGES (Premium) ===== */
    .badge {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.6rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 0.35rem 0.85rem;
      border-radius: 20px;
      border: 1px solid transparent;
      font-weight: 500;
      transition: all 0.3s var(--ease-smooth);
    }
    
    .badge:hover {
      transform: translateY(-1px);
    }
    
    .badge-gold { 
      background: rgba(212, 175, 55, 0.1); 
      color: var(--color-gold); 
      border-color: rgba(212, 175, 55, 0.2);
    }
    .badge-gold { 
      background: rgba(212, 175, 55, 0.1); 
      color: var(--color-gold); 
      border-color: rgba(212, 175, 55, 0.2);
    }
    .badge-red { 
      background: rgba(248, 113, 113, 0.1); 
      color: var(--color-red); 
      border-color: rgba(248, 113, 113, 0.2);
    }
    .badge-green { 
      background: rgba(52, 211, 153, 0.1); 
      color: var(--color-green); 
      border-color: rgba(52, 211, 153, 0.2);
    }
    .badge-purple { 
      background: rgba(167, 139, 250, 0.1); 
      color: var(--color-purple); 
      border-color: rgba(167, 139, 250, 0.2);
    }
    
    /* ===== SVG ARCHITECTURE ===== */
    .arch-svg-container {
      width: 100%;
      margin: 3rem 0;
      overflow: visible;
    }
    
    .arch-svg {
      width: 100%;
      height: auto;
      min-height: 500px;
    }
    
    .arch-svg .box {
      fill: #0a0a0a;
      stroke-width: 1.5;
      transition: all 0.4s ease;
    }
    
    .arch-svg .box:hover {
      filter: url(#glow);
      cursor: pointer;
    }
    
    .arch-svg .box-cyan { stroke: var(--color-gold); }
    .arch-svg .box-gold { stroke: var(--color-gold); }
    .arch-svg .box-green { stroke: var(--color-green); }
    .arch-svg .box-purple { stroke: var(--color-purple); }
    
    .arch-svg .label-text {
      fill: #fff;
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      font-weight: 600;
    }
    
    .arch-svg .sub-text {
      fill: rgba(255,255,255,0.5);
      font-family: 'JetBrains Mono', monospace;
      font-size: 9px;
    }
    
    .arch-svg .connection {
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
    }
    
    .arch-svg .connection-cyan { stroke: var(--color-gold); }
    .arch-svg .connection-gold { stroke: var(--color-gold); }
    
    .arch-svg .flow-line {
      stroke-dasharray: 8 4;
      animation: flowDash 1s linear infinite;
    }
    
    @keyframes flowDash {
      to { stroke-dashoffset: -12; }
    }
    
    .data-particle {
      fill: var(--color-gold);
      filter: url(#glow);
    }
    
    .data-particle-gold {
      fill: var(--color-gold);
      filter: url(#glowGold);
    }
    
    .data-particle-purple {
      fill: var(--color-purple);
      filter: drop-shadow(0 0 6px var(--color-purple));
    }
    
    .data-particle-green {
      fill: var(--color-green);
      filter: drop-shadow(0 0 6px var(--color-green));
    }
    
    .connection-purple {
      stroke: var(--color-purple);
    }
    
    .connection-green {
      stroke: var(--color-green);
    }
    
    /* ===== CODE BLOCKS ===== */
    .code-block {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 1.5rem;
      overflow-x: auto;
      margin: 1.5rem 0;
      position: relative;
    }
    
    .code-block::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
    }
    
    .code-block pre {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      line-height: 1.6;
      color: var(--color-text-secondary);
      margin: 0;
      white-space: pre;
    }
    
    .code-block .comment { color: var(--color-text-muted); }
    .code-block .keyword { color: var(--color-purple); }
    .code-block .string { color: var(--color-green); }
    .code-block .type { color: var(--color-gold); }
    .code-block .function { color: var(--color-gold); }
    
    .code-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid var(--color-border);
    }
    
    .code-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }
    
    .code-dot.red { background: #ff5f57; }
    .code-dot.yellow { background: #febc2e; }
    .code-dot.green { background: #28c840; }
    
    .code-title {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--color-text-muted);
      margin-left: auto;
    }
    
    /* Typing animation for code */
    .code-typing .line {
      opacity: 0;
      transform: translateX(-10px);
    }
    
    .code-typing.animate .line {
      animation: typeIn 0.3s ease forwards;
    }
    
    .code-typing.animate .line:nth-child(1) { animation-delay: 0s; }
    .code-typing.animate .line:nth-child(2) { animation-delay: 0.1s; }
    .code-typing.animate .line:nth-child(3) { animation-delay: 0.2s; }
    .code-typing.animate .line:nth-child(4) { animation-delay: 0.3s; }
    .code-typing.animate .line:nth-child(5) { animation-delay: 0.4s; }
    .code-typing.animate .line:nth-child(6) { animation-delay: 0.5s; }
    .code-typing.animate .line:nth-child(7) { animation-delay: 0.6s; }
    .code-typing.animate .line:nth-child(8) { animation-delay: 0.7s; }
    .code-typing.animate .line:nth-child(9) { animation-delay: 0.8s; }
    .code-typing.animate .line:nth-child(10) { animation-delay: 0.9s; }
    
    @keyframes typeIn {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    /* ===== TABLE ===== */
    .table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      font-size: 0.875rem;
    }
    
    .table th, .table td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--color-border);
    }
    
    .table th {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--color-gold);
      background: rgba(6, 182, 212, 0.05);
    }
    
    .table td {
      color: var(--color-text-secondary);
    }
    
    .table tr {
      transition: background 0.3s ease;
    }
    
    .table tbody tr:hover {
      background: rgba(6, 182, 212, 0.05);
    }
    
    .table code {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      background: rgba(6, 182, 212, 0.1);
      padding: 0.15rem 0.4rem;
      border-radius: 3px;
      color: var(--color-gold);
    }
    
    /* ===== WHATSAPP ===== */
    .whatsapp-chat {
      max-width: 360px;
      margin: 1.5rem 0;
      background: #0b141a;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }
    
    .whatsapp-header {
      background: #1f2c34;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .whatsapp-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-gold);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .whatsapp-name {
      font-weight: 500;
      font-size: 0.85rem;
    }
    
    .whatsapp-status {
      font-size: 0.65rem;
      color: var(--color-text-muted);
    }
    
    .whatsapp-messages {
      padding: 1rem;
      min-height: 200px;
    }
    
    .wa-msg {
      max-width: 85%;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      font-size: 0.8rem;
      line-height: 1.4;
      opacity: 0;
      transform: translateY(10px) scale(0.95);
      position: relative;
    }
    
    .wa-msg.animate {
      animation: msgIn 0.3s ease forwards;
    }
    
    .wa-msg.fade-out {
      animation: msgOut 0.3s ease forwards;
    }
    
    @keyframes msgIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    
    @keyframes msgOut {
      to {
        opacity: 0;
        transform: translateY(-5px) scale(0.95);
      }
    }
    
    .wa-msg.incoming {
      background: #1f2c34;
      border-top-left-radius: 0;
    }
    
    .wa-msg.outgoing {
      background: #005c4b;
      margin-left: auto;
      border-top-right-radius: 0;
    }
    
    .wa-msg.outgoing::after {
      content: '✓✓';
      font-size: 0.5rem;
      color: #53bdeb;
      position: absolute;
      right: 0.5rem;
      bottom: 0.25rem;
    }
    
    .wa-time {
      font-size: 0.55rem;
      color: var(--color-text-muted);
      text-align: right;
      margin-top: 0.25rem;
      margin-right: 1rem;
    }
    
    /* Typing indicator */
    .wa-typing {
      display: none;
      background: #1f2c34;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border-top-left-radius: 0;
      width: fit-content;
      margin-bottom: 0.5rem;
    }
    
    .wa-typing.show {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    
    .wa-typing-dot {
      width: 6px;
      height: 6px;
      background: rgba(255,255,255,0.4);
      border-radius: 50%;
      animation: typingBounce 1.4s infinite;
    }
    
    .wa-typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .wa-typing-dot:nth-child(3) { animation-delay: 0.4s; }
    
    @keyframes typingBounce {
      0%, 60%, 100% { transform: translateY(0); background: rgba(255,255,255,0.3); }
      30% { transform: translateY(-4px); background: rgba(255,255,255,0.7); }
    }
    
    /* Status indicators */
    .wa-status-bar {
      font-size: 0.6rem;
      color: var(--color-text-muted);
      text-align: center;
      padding: 0.25rem;
      background: rgba(0,0,0,0.3);
    }
    
    /* ===== ANIMATED FLOW ===== */
    .animated-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0;
      margin: 2rem 0;
      padding: 2rem 0;
    }
    
    .flow-step {
      padding: 1rem 1.25rem;
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      text-align: center;
      min-width: 100px;
      position: relative;
      opacity: 0;
      transform: scale(0.8);
    }
    
    .flow-step.visible {
      opacity: 1;
      transform: scale(1);
      transition: all 0.5s var(--ease-out-expo);
    }
    
    .flow-step.active {
      border-color: var(--color-gold);
      box-shadow: 0 0 25px var(--color-gold-glow);
    }
    
    .flow-step.gate {
      border-color: var(--color-red);
      background: rgba(239, 68, 68, 0.05);
    }
    
    .flow-step.gate.active {
      box-shadow: 0 0 25px rgba(239, 68, 68, 0.4);
    }
    
    .flow-step strong {
      display: block;
      color: var(--color-text-primary);
      font-size: 0.8rem;
      margin-bottom: 0.2rem;
    }
    
    .flow-step span {
      font-size: 0.65rem;
      color: var(--color-text-muted);
    }
    
    .flow-connector {
      width: 30px;
      height: 2px;
      background: var(--color-border);
      position: relative;
      overflow: visible;
    }
    
    .flow-connector .pulse {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--color-gold);
      border-radius: 50%;
      top: 50%;
      transform: translateY(-50%);
      left: -4px;
      opacity: 0;
      box-shadow: 0 0 10px var(--color-gold);
    }
    
    .flow-connector.active .pulse {
      animation: pulseMove 0.6s ease-out forwards;
    }
    
    @keyframes pulseMove {
      0% { left: -4px; opacity: 1; }
      100% { left: calc(100% - 4px); opacity: 0; }
    }
    
    /* ===== TIMELINE ===== */
    .timeline {
      position: relative;
      margin: 2rem 0;
      padding-left: 40px;
    }
    
    .timeline::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      bottom: 0;
      width: 1px;
      background: linear-gradient(to bottom, var(--color-gold), transparent);
      opacity: 0.3;
    }
    
    .timeline-item {
      position: relative;
      padding-bottom: 2rem;
    }
    
    .timeline-marker {
      position: absolute;
      left: -40px;
      top: 0;
      width: 16px;
      height: 16px;
      border: 2px solid var(--color-gold);
      border-radius: 50%;
      background: var(--color-bg);
      transition: all 0.3s ease;
    }
    
    .timeline-item:hover .timeline-marker {
      background: var(--color-gold);
      box-shadow: 0 0 20px var(--color-gold-glow);
    }
    
    .timeline-content {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      padding: 1.25rem;
      transition: all 0.3s ease;
    }
    
    .timeline-content:hover {
      border-color: var(--color-gold);
      transform: translateX(4px);
    }
    
    .timeline-phase {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--color-gold);
      text-transform: uppercase;
      letter-spacing: 0.15em;
    }
    
    .timeline-content h4 {
      font-size: 1rem;
      margin: 0.5rem 0;
      color: var(--color-text-primary);
    }
    
    .timeline-content p {
      font-size: 0.875rem;
      margin-bottom: 0.75rem;
    }
    
    .timeline-duration {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--color-gold);
      background: rgba(201, 169, 98, 0.1);
      padding: 0.25rem 0.5rem;
      display: inline-block;
    }
    
    /* ===== ER DIAGRAM ===== */
    .er-diagram {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    
    .er-table {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .er-table:hover {
      border-color: var(--color-gold);
      box-shadow: 0 0 20px var(--color-gold-glow);
      transform: translateY(-2px);
    }
    
    .er-table-name {
      background: rgba(6, 182, 212, 0.1);
      padding: 0.6rem 0.75rem;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--color-gold);
      border-bottom: 1px solid var(--color-border);
    }
    
    .er-table-cols {
      padding: 0.5rem 0.75rem;
      font-family: var(--font-mono);
      font-size: 0.65rem;
    }
    
    .er-col {
      padding: 0.2rem 0;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    
    .er-col .key { color: var(--color-gold); }
    .er-col .fk { color: var(--color-purple); }
    .er-col .name { color: var(--color-text-secondary); }
    .er-col .type { color: var(--color-text-muted); font-size: 0.6rem; }
    
    /* ===== CTA ===== */
    .cta-section {
      text-align: center;
      padding: 8rem 0;
    }
    
    .btn {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      padding: 1rem 2.5rem;
      text-decoration: none;
      transition: all 0.4s var(--ease-out-expo);
      position: relative;
      overflow: hidden;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s ease;
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn-primary {
      background: var(--color-gold);
      color: #000;
    }
    
    .btn-primary:hover {
      background: #D4B76E;
      box-shadow: 0 0 40px var(--color-gold-glow);
      transform: translateY(-2px);
    }
    
    /* ===== APP FLOW DIAGRAM ===== */
    .app-flow-container {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      padding: 1rem 0;
    }
    
    .app-flow-svg {
      width: 100%;
      max-width: 800px;
      height: auto;
      min-height: 350px;
      margin: 0 auto;
      display: block;
    }
    
    .app-node circle {
      transition: all 0.3s ease;
    }
    
    .app-node:hover circle {
      filter: url(#appGlow);
      transform: scale(1.05);
    }
    
    /* ===== MOBILE RESPONSIVE ===== */
    @media (max-width: 768px) {
      .section {
        padding: 3rem 0;
        min-height: auto;
      }
      
      .container {
        padding: 0 1rem;
      }
      
      h1 {
        font-size: 2rem !important;
        line-height: 1.2;
      }
      
      h1 .block {
        font-size: 1.5rem;
      }
      
      h2 {
        font-size: 1.5rem !important;
      }
      
      h3 {
        font-size: 1.1rem !important;
      }
      
      /* Hero logo */
      .hero img[alt="Aztec Landscapes"] {
        height: 60px !important;
      }
      
      /* Architecture SVG - scale and scroll */
      .arch-svg-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 1rem;
      }
      
      .arch-svg {
        min-width: 700px;
        height: auto;
      }
      
      /* ER Diagram - horizontal scroll */
      .er-diagram {
        display: flex;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        gap: 1rem;
        padding-bottom: 1rem;
      }
      
      .er-table {
        min-width: 180px;
        flex-shrink: 0;
      }
      
      /* WhatsApp chats - full width */
      .whatsapp-chat {
        max-width: 100%;
      }
      
      .wa-msg {
        max-width: 90%;
        font-size: 0.75rem;
      }
      
      /* Timeline adjustments */
      .timeline-item {
        padding-left: 1.5rem;
      }
      
      .timeline-content h4 {
        font-size: 1rem;
      }
      
      /* Tables - scroll horizontally */
      .table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      
      /* Cards - reduce padding */
      .card {
        padding: 1rem;
      }
      
      /* Stats - smaller text */
      .stat-number {
        font-size: 2rem !important;
      }
      
      .stat-label {
        font-size: 0.7rem;
      }
      
      /* Flow steps - stack vertically */
      .animated-flow {
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .flow-step {
        width: 100%;
        min-width: unset;
      }
      
      .flow-connector {
        transform: rotate(90deg);
        margin: 0.25rem 0;
      }
      
      /* Problems grid */
      .card .grid-2 {
        grid-template-columns: 1fr !important;
      }
      
      /* Reduce animation intensity on mobile for performance */
      .card:hover {
        transform: none;
      }
      
      /* Section label */
      .section-label {
        margin-bottom: 1rem;
      }
      
      /* Progress bar thicker for touch */
      .progress-bar {
        height: 4px;
      }
    }
    
    /* Small phones */
    @media (max-width: 480px) {
      h1 {
        font-size: 1.75rem !important;
      }
      
      h1 .block {
        font-size: 1.25rem;
      }
      
      .stats-grid {
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem;
      }
      
      .stat-item {
        padding: 1rem 0.5rem;
      }
      
      .stat-number {
        font-size: 1.5rem !important;
      }
      
      /* WhatsApp even smaller */
      .whatsapp-messages {
        padding: 0.5rem;
      }
      
      .wa-msg {
        font-size: 0.7rem;
        padding: 0.4rem 0.6rem;
      }
    }
    
    /* ===== LOADING SCREEN ===== */
    .loader-screen {
      position: fixed;
      inset: 0;
      background: #030305;
      z-index: 100000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.8s var(--ease-out-expo), visibility 0.8s;
    }
    
    .loader-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    
    .loader-logo {
      width: 80px;
      height: 80px;
      margin-bottom: 2rem;
      animation: logoFloat 2s ease-in-out infinite;
    }
    
    @keyframes logoFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(0); }
    }
    
    .loader-spinner {
      position: relative;
      width: 60px;
      height: 60px;
    }
    
    .loader-spinner::before,
    .loader-spinner::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 50%;
      border: 2px solid transparent;
    }
    
    .loader-spinner::before {
      border-top-color: var(--color-gold);
      border-right-color: var(--color-gold);
      animation: spinnerRotate 1.2s linear infinite;
    }
    
    .loader-spinner::after {
      border-bottom-color: var(--color-gold);
      border-left-color: var(--color-gold);
      animation: spinnerRotate 1.8s linear infinite reverse;
      inset: 6px;
    }
    
    @keyframes spinnerRotate {
      to { transform: rotate(360deg); }
    }
    
    .loader-text {
      margin-top: 1.5rem;
      font-family: var(--font-mono);
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.3em;
      color: var(--color-text-muted);
      animation: loaderPulse 1.5s ease-in-out infinite;
    }
    
    @keyframes loaderPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.8; }
    }
    
    .loader-progress {
      width: 120px;
      height: 2px;
      background: rgba(255,255,255,0.1);
      border-radius: 2px;
      margin-top: 1rem;
      overflow: hidden;
    }
    
    .loader-progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--color-gold), var(--color-gold));
      transition: width 0.3s var(--ease-smooth);
    }
    
    /* Hide main content during load */
    body.loading {
      overflow: hidden;
    }
    
    body.loading .section {
      opacity: 0;
    }
    
    body:not(.loading) .section {
      animation: contentReveal 1s var(--ease-out-expo) forwards;
    }
    
    @keyframes contentReveal {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="loading">

<!-- Loading Screen -->
<div class="loader-screen" id="loaderScreen">
  <img src="aztec-logo.png" alt="Aztec" class="loader-logo">
  <div class="loader-spinner"></div>
  <div class="loader-text">Loading</div>
  <div class="loader-progress">
    <div class="loader-progress-bar" id="loaderProgress"></div>
  </div>
</div>

<!-- Progress Bar -->
<div class="progress-bar" id="progressBar"></div>

<!-- Section Navigation -->
<nav class="section-nav" id="sectionNav">
  <div class="nav-dot active" data-section="0"><span class="tooltip">Overview</span></div>
  <div class="nav-dot" data-section="1"><span class="tooltip">Operating Model</span></div>
  <div class="nav-dot" data-section="2"><span class="tooltip">Architecture</span></div>
  <div class="nav-dot" data-section="3"><span class="tooltip">Technology</span></div>
  <div class="nav-dot" data-section="4"><span class="tooltip">Data Flow</span></div>
  <div class="nav-dot" data-section="5"><span class="tooltip">Database</span></div>
  <div class="nav-dot" data-section="6"><span class="tooltip">WhatsApp</span></div>
  <div class="nav-dot" data-section="7"><span class="tooltip">Compliance</span></div>
  <div class="nav-dot" data-section="8"><span class="tooltip">Security</span></div>
  <div class="nav-dot" data-section="9"><span class="tooltip">Timeline</span></div>
  <div class="nav-dot" data-section="10"><span class="tooltip">Insurance</span></div>
  <div class="nav-dot" data-section="11"><span class="tooltip">Approval</span></div>
</nav>

<!-- ===== 01: HERO ===== -->
<section class="section hero dot-grid" id="section-0">
  <div class="hero-bg-lines">
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
  </div>
  
  <div class="corner tl"></div>
  <div class="corner br"></div>
  <!-- Scan line removed -->
  
  <!-- Floating elements for parallax -->
  <div class="float-element float-circle" style="top: 10%; left: -5%;" data-speed="0.05"></div>
  <div class="float-element float-square" style="bottom: 20%; right: -3%;" data-speed="0.08"></div>
  
  <div class="container" style="position: relative; z-index: 1;">
    <div style="text-align: center; margin-bottom: 2rem;" class="fade-up">
      <img src="aztec-logo.png" alt="Aztec Landscapes" style="height: 80px; margin-bottom: 1rem;">
    </div>
    
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Business Operating System</span>
    </div>
    
    <h1 class="fade-up">
      Aztec <span class="text-gold">B.O.S</span>
    </h1>
    
    <p style="margin: 0 auto 1.5rem; text-align: center; font-size: 1.25rem; max-width: 700px;" class="fade-up">
      One system to manage your entire workforce, from recruitment to allocation to compliance.
    </p>
    
    <div class="card fade-up" style="max-width: 800px; margin: 0 auto 2rem; border-color: var(--color-gold); background: rgba(201, 169, 98, 0.05); text-align: left;">
      <h4 style="color: var(--color-gold); margin-bottom: 1rem;">What This System Does</h4>
      <ul style="color: var(--color-text-secondary); line-height: 2;">
        <li><strong>Replaces your spreadsheets:</strong> all operative data in one searchable database</li>
        <li><strong>Automates recruitment:</strong> Sophie AI qualifies candidates 24/7 via WhatsApp</li>
        <li><strong>Manages compliance:</strong> blocks anyone without valid CSCS/RTW automatically</li>
        <li><strong>Streamlines allocation:</strong> match skills to sites, send offers via WhatsApp</li>
        <li><strong>Tracks everything:</strong> arrivals, NCRs, performance, documents</li>
      </ul>
    </div>
    
    <div class="stats-grid fade-up" style="max-width: 900px; margin: 3rem auto;">
      <div class="stat-item">
        <div class="stat-number">24/7</div>
        <div class="stat-label">Recruitment</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">100%</div>
        <div class="stat-label">Compliance</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" style="display: flex; align-items: baseline; justify-content: center;"><span>£</span>120<span style="font-size: 0.5em;">k</span></div>
        <div class="stat-label">Annual Saving</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">&lt;12</div>
        <div class="stat-label">Months ROI</div>
      </div>
    </div>
    
    <div style="text-align: center; color: var(--color-text-muted); font-size: 0.875rem;" class="fade-up">
      <span>Prepared by Cold Lava</span>
      <span class="text-gold" style="margin: 0 0.5rem;">•</span>
      <span>February 2026</span>
    </div>
    <div class="card fade-up" style="max-width: 900px; margin: 2rem auto 0; border-color: var(--color-red); background: rgba(239, 68, 68, 0.03); text-align: left;">
      <h4 style="color: var(--color-red); margin-bottom: 1rem;">The Problems We're Solving</h4>
      <div class="grid grid-2" style="gap: 1rem;">
        <div>
          <p style="margin-bottom: 0.75rem;">❌ <strong>Spreadsheet chaos:</strong> operative data scattered across files</p>
          <p style="margin-bottom: 0.75rem;">❌ <strong>Compliance risk:</strong> expired CSCS cards slip through</p>
          <p>❌ <strong>Manual recruitment:</strong> hours spent on unqualified applicants</p>
        </div>
        <div>
          <p style="margin-bottom: 0.75rem;">❌ <strong>No visibility:</strong> who's working where, when?</p>
          <p style="margin-bottom: 0.75rem;">❌ <strong>Slow allocation:</strong> phone tag to fill urgent gaps</p>
          <p>❌ <strong>Database poaching:</strong> staff leave and take contacts</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 02: OPERATING MODEL ===== -->
<section class="section" id="section-1">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Operating Model / 002</span>
    </div>
    
    <h2 class="fade-up">Your <span class="text-gold">Operating</span> Model</h2>
    
    <p class="fade-up">Central labour control with one key principle: <strong class="text-gold">Reallocation First</strong></p>
    
    <div class="grid fade-up" style="margin-top: 2rem;">
      <div class="card">
        <div class="card-number">01</div>
        <h4>Central Labour Control</h4>
        <p>All labour allocation flows through a single point (Liam). Site Managers, PMs and Directors request through him via WhatsApp.</p>
      </div>
      <div class="card">
        <div class="card-number">02</div>
        <h4>Reallocation First</h4>
        <p>Before external recruitment: 1) Reallocate finishing workers 2) Search internal database 3) Only then raise adverts.</p>
      </div>
      <div class="card">
        <div class="card-number">03</div>
        <h4>Skills & Rate Governance</h4>
        <p>Every allocation checks skill requirements against qualifications. Rate matrices enforced automatically.</p>
      </div>
      <div class="card">
        <div class="card-number">04</div>
        <h4>Compliance by Default</h4>
        <p>No operative works without valid RTW, Photo ID, and in-date CSCS. System blocks non-compliant allocations.</p>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">Trade Categories (Preloaded)</h3>
    
    <div class="grid grid-2 fade-up" style="margin-top: 1rem;">
      <div>
        <h4 style="color: var(--color-gold); font-size: 0.9rem; margin-bottom: 1rem;">Blue Collar</h4>
        <table class="table" style="font-size: 0.8rem;">
          <tbody>
            <tr><td>Skilled Landscapers</td><td><span class="badge badge-gold">CSCS Green</span></td></tr>
            <tr><td>General Labourers</td><td><span class="badge badge-gold">CSCS Green</span></td></tr>
            <tr><td>Groundworkers</td><td><span class="badge badge-gold">CSCS Green</span></td></tr>
            <tr><td>Pavers / Kerb Layers</td><td><span class="badge badge-gold">CSCS Green</span></td></tr>
            <tr><td>Plant Operators</td><td><span class="badge badge-gold">CPCS/NPORS</span></td></tr>
            <tr><td>Drainage Operatives</td><td><span class="badge badge-gold">CSCS Green</span></td></tr>
            <tr><td>Carpenters</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
            <tr><td>Bricklayers</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
            <tr><td>Stone Masons</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
            <tr><td>Steel Fixers</td><td><span class="badge badge-purple">CSCS Blue</span></td></tr>
          </tbody>
        </table>
      </div>
      <div>
        <h4 style="color: var(--color-gold); font-size: 0.9rem; margin-bottom: 1rem;">White Collar</h4>
        <table class="table" style="font-size: 0.8rem;">
          <tbody>
            <tr><td>Site Managers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Project Managers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Engineers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Supervisors</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Design Managers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Document Controllers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>Quantity Surveyors</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
            <tr><td>H&S Officers</td><td><span class="badge badge-gold">CV + Quals</span></td></tr>
          </tbody>
        </table>
        <p style="font-size: 0.75rem; margin-top: 1rem;">White collar: CVs searchable, full compliance docs collected when role offered.</p>
      </div>
    </div>
  </div>
</section>

<!-- ===== 03: ARCHITECTURE ===== -->
<section class="section line-grid" id="section-2">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Live Architecture / 002</span>
    </div>
    
    <h2 class="fade-up">How It All <span class="text-gold">Connects</span></h2>
    
    <p class="fade-up">Four ways in, one central brain, secure storage. Watch data flow through the system.</p>
    
    <div class="arch-svg-container fade-up">
      <svg class="arch-svg" viewBox="0 0 1000 550">
        <defs>
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
          <filter id="glowGold" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        
        <text x="500" y="30" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">WHO USES IT</text>
        
        <!-- Liam Dashboard -->
        <g class="arch-node" data-node="dashboard">
          <rect x="60" y="50" width="160" height="80" rx="4" class="box box-cyan"/>
          <text x="140" y="85" text-anchor="middle" class="label-text">Liam Dashboard</text>
          <text x="140" y="105" text-anchor="middle" class="sub-text">Web Application</text>
        </g>
        
        <!-- Site Manager -->
        <g class="arch-node" data-node="site-manager">
          <rect x="260" y="50" width="160" height="80" rx="4" class="box box-green"/>
          <text x="340" y="85" text-anchor="middle" class="label-text">Site Manager</text>
          <text x="340" y="105" text-anchor="middle" class="sub-text">WhatsApp Bot</text>
        </g>
        
        <!-- Sophie AI -->
        <g class="arch-node" data-node="sophie">
          <rect x="460" y="50" width="160" height="80" rx="4" class="box box-purple"/>
          <text x="540" y="85" text-anchor="middle" class="label-text">Sophie AI</text>
          <text x="540" y="105" text-anchor="middle" class="sub-text">WhatsApp Agent</text>
        </g>
        
        <!-- Operative -->
        <g class="arch-node" data-node="operative">
          <rect x="660" y="50" width="160" height="80" rx="4" class="box box-gold"/>
          <text x="740" y="85" text-anchor="middle" class="label-text">Operative</text>
          <text x="740" y="105" text-anchor="middle" class="sub-text">WhatsApp</text>
        </g>
        
        <text x="500" y="180" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">THE BRAIN</text>
        
        <g class="arch-node" data-node="api">
          <rect x="200" y="200" width="600" height="90" rx="4" class="box box-cyan" style="stroke-width: 2;"/>
          <text x="500" y="235" text-anchor="middle" class="label-text" style="font-size: 14px;">Central Processing</text>
          <text x="280" y="265" text-anchor="middle" class="sub-text">People</text>
          <text x="400" y="265" text-anchor="middle" class="sub-text">Assignments</text>
          <text x="520" y="265" text-anchor="middle" class="sub-text">Issues</text>
          <text x="640" y="265" text-anchor="middle" class="sub-text">Messages</text>
          <text x="740" y="265" text-anchor="middle" class="sub-text">Documents</text>
        </g>
        
        <text x="500" y="340" text-anchor="middle" class="sub-text" style="font-size: 10px; fill: rgba(255,255,255,0.4);">WHERE DATA LIVES</text>
        
        <g class="arch-node" data-node="database">
          <rect x="100" y="360" width="200" height="90" rx="4" class="box box-cyan"/>
          <text x="200" y="400" text-anchor="middle" class="label-text">PostgreSQL</text>
          <text x="200" y="425" text-anchor="middle" class="sub-text">Supabase • London</text>
        </g>
        
        <g class="arch-node" data-node="storage">
          <rect x="340" y="360" width="160" height="90" rx="4" class="box box-gold"/>
          <text x="420" y="400" text-anchor="middle" class="label-text">File Storage</text>
          <text x="420" y="425" text-anchor="middle" class="sub-text">Documents</text>
        </g>
        
        <g class="arch-node" data-node="external">
          <rect x="540" y="360" width="260" height="90" rx="4" class="box box-green"/>
          <text x="670" y="395" text-anchor="middle" class="label-text">External Services</text>
          <text x="600" y="420" text-anchor="middle" class="sub-text">WhatsApp</text>
          <text x="670" y="420" text-anchor="middle" class="sub-text">OpenAI</text>
          <text x="740" y="420" text-anchor="middle" class="sub-text">Gov.uk</text>
        </g>
        
        <g class="connections">
          <!-- === UI TO API === -->
          <!-- Liam Dashboard → API (primary: data management) -->
          <path d="M 140 130 L 140 160 L 280 160 L 280 200" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          <!-- Site Manager → API (NCRs, arrivals, messages) -->
          <path d="M 340 130 L 340 160 L 400 160 L 400 200" class="connection connection-green flow-line" style="opacity: 0.6;"/>
          <!-- Sophie AI → API (applicant data, AI calls) -->
          <path d="M 540 130 L 540 160 L 520 160 L 520 200" class="connection connection-purple flow-line" style="opacity: 0.6;"/>
          <!-- Operative → API (profile, shifts, documents) -->
          <path d="M 740 130 L 740 160 L 640 160 L 640 200" class="connection connection-gold flow-line" style="opacity: 0.6;"/>
          
          <!-- === API TO DATABASE (all users need data) === -->
          <path d="M 280 290 L 280 320 L 200 320 L 200 360" class="connection connection-cyan flow-line" style="opacity: 0.6;"/>
          <path d="M 400 290 L 400 320 L 250 320 L 250 360" class="connection connection-green flow-line" style="opacity: 0.5;"/>
          <path d="M 520 290 L 520 320 L 300 320 L 300 360" class="connection connection-purple flow-line" style="opacity: 0.4;"/>
          
          <!-- === API TO FILE STORAGE === -->
          <!-- Liam views documents -->
          <path d="M 320 290 L 320 320 L 380 320 L 380 360" class="connection connection-cyan flow-line" style="opacity: 0.5;"/>
          <!-- Sophie receives CVs -->
          <path d="M 480 290 L 480 320 L 420 320 L 420 360" class="connection connection-purple flow-line" style="opacity: 0.5;"/>
          <!-- Operative uploads documents -->
          <path d="M 580 290 L 580 320 L 460 320 L 460 360" class="connection connection-gold flow-line" style="opacity: 0.5;"/>
          
          <!-- === API TO EXTERNAL SERVICES === -->
          <!-- Site Manager WhatsApp -->
          <path d="M 440 290 L 440 320 L 600 320 L 600 360" class="connection connection-green flow-line" style="opacity: 0.5;"/>
          <!-- Sophie → WhatsApp + OpenAI -->
          <path d="M 560 290 L 560 320 L 670 320 L 670 360" class="connection connection-purple flow-line" style="opacity: 0.6;"/>
          <!-- Operative WhatsApp -->
          <path d="M 640 290 L 640 320 L 740 320 L 740 360" class="connection connection-gold flow-line" style="opacity: 0.5;"/>
        </g>
        
        <g class="particles">
          <!-- Particle 1: Dashboard managing operative data -->
          <circle class="data-particle" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.5s" repeatCount="indefinite"/>
            <animateMotion dur="3.5s" repeatCount="indefinite" path="M 140 130 L 140 160 L 280 160 L 280 200 L 280 290 L 280 320 L 200 320 L 200 360"/>
          </circle>
          <!-- Particle 2: Site Manager reporting NCR to database -->
          <circle class="data-particle-green" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.2s" repeatCount="indefinite" begin="1s"/>
            <animateMotion dur="3.2s" repeatCount="indefinite" begin="1s" path="M 340 130 L 340 160 L 400 160 L 400 200 L 400 290 L 400 320 L 250 320 L 250 360"/>
          </circle>
          <!-- Particle 3: Sophie saving applicant + calling OpenAI -->
          <circle class="data-particle-purple" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="4s" repeatCount="indefinite" begin="2s"/>
            <animateMotion dur="4s" repeatCount="indefinite" begin="2s" path="M 540 130 L 540 160 L 520 160 L 520 200 L 560 290 L 560 320 L 670 320 L 670 360"/>
          </circle>
          <!-- Particle 4: Operative receiving WhatsApp message -->
          <circle class="data-particle-gold" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.8s" repeatCount="indefinite" begin="3s"/>
            <animateMotion dur="3.8s" repeatCount="indefinite" begin="3s" path="M 740 130 L 740 160 L 640 160 L 640 200 L 640 290 L 640 320 L 740 320 L 740 360"/>
          </circle>
          <!-- Particle 5: Operative uploading document to storage -->
          <circle class="data-particle-gold" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="4.2s" repeatCount="indefinite" begin="4.5s"/>
            <animateMotion dur="4.2s" repeatCount="indefinite" begin="4.5s" path="M 740 130 L 740 160 L 640 160 L 640 200 L 580 290 L 580 320 L 460 320 L 460 360"/>
          </circle>
          <!-- Particle 6: Liam viewing documents -->
          <circle class="data-particle" r="4">
            <animate attributeName="opacity" values="0;1;1;1;1;0" dur="3.6s" repeatCount="indefinite" begin="5.5s"/>
            <animateMotion dur="3.6s" repeatCount="indefinite" begin="5.5s" path="M 140 130 L 140 160 L 280 160 L 280 200 L 320 290 L 320 320 L 380 320 L 380 360"/>
          </circle>
        </g>
        
        <g transform="translate(900, 20)">
          <circle r="5" fill="#10B981">
            <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
          </circle>
          <text x="15" y="4" class="sub-text" style="fill: #10B981;">LIVE</text>
        </g>
      </svg>
    </div>
    
    <div class="grid grid-3 fade-up">
      <div class="card">
        <h4 class="text-gold">4 Ways In</h4>
        <p>Liam's dashboard, Site Manager WhatsApp, Sophie AI for recruitment, and Operative messages. All connected.</p>
      </div>
      <div class="card">
        <h4 class="text-gold">One Central Brain</h4>
        <p>All requests go through one system. Fast, reliable, handles thousands of users without slowing down.</p>
      </div>
      <div class="card">
        <h4 class="text-green">3 External Services</h4>
        <p>WhatsApp for messaging, OpenAI for Sophie, Gov.uk for right-to-work verification.</p>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem; color: var(--color-text-muted); font-size: 0.9rem;">Technical Detail: API Endpoints</h3>
    <div class="grid grid-5 fade-up" style="gap: 0.75rem; margin-top: 1rem;">
      <div class="card" style="padding: 0.75rem; text-align: center;">
        <code style="color: var(--color-gold); font-size: 0.75rem;">/api/operatives</code>
        <p style="font-size: 0.7rem; margin-top: 0.25rem;">Manage workers</p>
      </div>
      <div class="card" style="padding: 0.75rem; text-align: center;">
        <code style="color: var(--color-gold); font-size: 0.75rem;">/api/allocations</code>
        <p style="font-size: 0.7rem; margin-top: 0.25rem;">Assign to sites</p>
      </div>
      <div class="card" style="padding: 0.75rem; text-align: center;">
        <code style="color: var(--color-gold); font-size: 0.75rem;">/api/ncrs</code>
        <p style="font-size: 0.7rem; margin-top: 0.25rem;">Log issues</p>
      </div>
      <div class="card" style="padding: 0.75rem; text-align: center;">
        <code style="color: var(--color-gold); font-size: 0.75rem;">/api/webhooks</code>
        <p style="font-size: 0.7rem; margin-top: 0.25rem;">Receive messages</p>
      </div>
      <div class="card" style="padding: 0.75rem; text-align: center;">
        <code style="color: var(--color-gold); font-size: 0.75rem;">/api/documents</code>
        <p style="font-size: 0.7rem; margin-top: 0.25rem;">Store files</p>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">App Integration Flow</h3>
    <p class="fade-up" style="margin-bottom: 1.5rem;">Watch how data flows between the apps in real-time scenarios.</p>
    
    <!-- App Integration Flow - Architectural Style (matching system architecture) -->
    <div class="fade-up" style="margin: 2rem 0; overflow-x: auto;">
      <svg viewBox="0 0 1000 450" style="width: 100%; min-width: 800px; height: auto;">
        <defs>
          <filter id="appGlow2">
            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
            <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
        </defs>
        
        <!-- Section Label: WHO USES IT -->
        <text x="500" y="25" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-size="11" letter-spacing="3" font-family="'JetBrains Mono', monospace">WHO USES IT</text>
        
        <!-- Top Row: User Interfaces -->
        <g transform="translate(40, 45)">
          <rect width="180" height="70" rx="6" fill="rgba(212, 175, 55, 0.08)" stroke="#D4AF37" stroke-width="1.5"/>
          <text x="90" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="600">Liam Dashboard</text>
          <text x="90" y="48" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="10">Web Application</text>
        </g>
        
        <g transform="translate(260, 45)">
          <rect width="180" height="70" rx="6" fill="rgba(52, 211, 153, 0.08)" stroke="#34D399" stroke-width="1.5"/>
          <text x="90" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="600">Site Manager</text>
          <text x="90" y="48" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="10">WhatsApp Bot</text>
        </g>
        
        <g transform="translate(560, 45)">
          <rect width="180" height="70" rx="6" fill="rgba(167, 139, 250, 0.08)" stroke="#A78BFA" stroke-width="1.5"/>
          <text x="90" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="600">Sophie AI</text>
          <text x="90" y="48" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="10">WhatsApp Agent</text>
        </g>
        
        <g transform="translate(780, 45)">
          <rect width="180" height="70" rx="6" fill="rgba(212, 175, 55, 0.08)" stroke="#D4AF37" stroke-width="1.5"/>
          <text x="90" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="600">Operative</text>
          <text x="90" y="48" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="10">WhatsApp</text>
        </g>
        
        <!-- Connectors from top boxes down to junction -->
        <line x1="130" y1="115" x2="130" y2="155" stroke="#D4AF37" stroke-width="1.5" opacity="0.5"/>
        <line x1="350" y1="115" x2="350" y2="155" stroke="#34D399" stroke-width="1.5" opacity="0.5"/>
        <line x1="650" y1="115" x2="650" y2="155" stroke="#A78BFA" stroke-width="1.5" opacity="0.5"/>
        <line x1="870" y1="115" x2="870" y2="155" stroke="#D4AF37" stroke-width="1.5" opacity="0.5"/>
        
        <!-- Junction dots -->
        <circle cx="130" cy="155" r="4" fill="#D4AF37" filter="url(#appGlow2)"/>
        <circle cx="350" cy="155" r="4" fill="#34D399" filter="url(#appGlow2)"/>
        <circle cx="650" cy="155" r="4" fill="#A78BFA" filter="url(#appGlow2)"/>
        <circle cx="870" cy="155" r="4" fill="#D4AF37" filter="url(#appGlow2)"/>
        
        <!-- Horizontal connector to central processing -->
        <line x1="130" y1="155" x2="870" y2="155" stroke="#D4AF37" stroke-width="1.5" opacity="0.3"/>
        
        <!-- Central junction down -->
        <circle cx="500" cy="155" r="5" fill="#D4AF37" filter="url(#appGlow2)"/>
        <line x1="500" y1="155" x2="500" y2="185" stroke="#D4AF37" stroke-width="2" opacity="0.5"/>
        
        <!-- Section Label: THE BRAIN -->
        <text x="500" y="180" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-size="11" letter-spacing="3" font-family="'JetBrains Mono', monospace">THE BRAIN</text>
        
        <!-- Central Processing Box -->
        <g transform="translate(150, 195)">
          <rect width="700" height="100" rx="8" fill="rgba(212, 175, 55, 0.1)" stroke="#D4AF37" stroke-width="2"/>
          <text x="350" y="35" text-anchor="middle" fill="#fff" font-size="18" font-weight="700">Central Processing</text>
          <!-- Sub-modules -->
          <circle cx="100" cy="70" r="4" fill="#D4AF37"/>
          <text x="100" y="85" text-anchor="middle" fill="#D4AF37" font-size="10">People</text>
          <text x="230" y="70" text-anchor="middle" fill="#D4AF37" font-size="10">Assignments</text>
          <text x="350" y="70" text-anchor="middle" fill="#D4AF37" font-size="10">Issues</text>
          <text x="470" y="70" text-anchor="middle" fill="#D4AF37" font-size="10">Messages</text>
          <text x="600" y="70" text-anchor="middle" fill="#D4AF37" font-size="10">Documents</text>
        </g>
        
        <!-- Central box down to junction -->
        <line x1="500" y1="295" x2="500" y2="330" stroke="#D4AF37" stroke-width="2" opacity="0.5"/>
        <circle cx="500" cy="330" r="5" fill="#D4AF37" filter="url(#appGlow2)"/>
        
        <!-- Section Label: WHERE DATA LIVES -->
        <text x="500" y="355" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-size="11" letter-spacing="3" font-family="'JetBrains Mono', monospace">WHERE DATA LIVES</text>
        
        <!-- TWO paths only: Supabase (left) and External Services (right) -->
        <line x1="500" y1="330" x2="300" y2="330" stroke="#D4AF37" stroke-width="1.5" opacity="0.4"/>
        <line x1="500" y1="330" x2="700" y2="330" stroke="#25D366" stroke-width="1.5" opacity="0.4"/>
        
        <!-- Junction dots -->
        <circle cx="300" cy="330" r="4" fill="#D4AF37" filter="url(#appGlow2)"/>
        <circle cx="700" cy="330" r="4" fill="#25D366" filter="url(#appGlow2)"/>
        
        <!-- Lines down to boxes -->
        <line x1="300" y1="330" x2="300" y2="370" stroke="#D4AF37" stroke-width="1.5" opacity="0.5"/>
        <line x1="700" y1="330" x2="700" y2="370" stroke="#25D366" stroke-width="1.5" opacity="0.5"/>
        
        <!-- Bottom Row: TWO boxes only -->
        <!-- Supabase (combined PostgreSQL + File Storage) -->
        <g transform="translate(100, 370)">
          <rect width="400" height="70" rx="6" fill="rgba(212, 175, 55, 0.08)" stroke="#D4AF37" stroke-width="1.5"/>
          <text x="200" y="28" text-anchor="middle" fill="#fff" font-size="15" font-weight="600">Supabase</text>
          <text x="200" y="45" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="10">London Data Centre</text>
          <text x="120" y="62" text-anchor="middle" fill="#D4AF37" font-size="9">PostgreSQL</text>
          <text x="200" y="62" text-anchor="middle" fill="#D4AF37" font-size="9">File Storage</text>
          <text x="280" y="62" text-anchor="middle" fill="#D4AF37" font-size="9">Auth</text>
        </g>
        
        <!-- External Services -->
        <g transform="translate(500, 370)">
          <rect width="400" height="70" rx="6" fill="rgba(37, 211, 102, 0.08)" stroke="#25D366" stroke-width="1.5"/>
          <text x="200" y="28" text-anchor="middle" fill="#fff" font-size="15" font-weight="600">External Services</text>
          <text x="200" y="45" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="10">Third-Party APIs</text>
          <text x="100" y="62" text-anchor="middle" fill="#25D366" font-size="9">WhatsApp</text>
          <text x="200" y="62" text-anchor="middle" fill="#10a37f" font-size="9">OpenAI</text>
          <text x="300" y="62" text-anchor="middle" fill="#D4AF37" font-size="9">Gov.uk</text>
        </g>
      </svg>
    </div>
    
    <div class="grid grid-5 fade-up" style="margin-top: 1.5rem; gap: 0.75rem;">
      <div class="card" style="padding: 1rem; border-color: var(--color-purple);">
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
          <div style="width: 10px; height: 10px; background: var(--color-purple); border-radius: 50%;"></div>
          <strong style="font-size: 0.75rem;">Recruitment</strong>
        </div>
        <p style="font-size: 0.65rem;">Applicant applies → Sophie qualifies → Liam reviews</p>
      </div>
      <div class="card" style="padding: 1rem; border-color: var(--color-gold);">
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
          <div style="width: 10px; height: 10px; background: var(--color-gold); border-radius: 50%;"></div>
          <strong style="font-size: 0.75rem;">Allocation</strong>
        </div>
        <p style="font-size: 0.65rem;">Liam sends shift offer → Operative accepts</p>
      </div>
      <div class="card" style="padding: 1rem; border-color: var(--color-gold);">
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
          <div style="width: 10px; height: 10px; background: var(--color-gold); border-radius: 50%;"></div>
          <strong style="font-size: 0.75rem;">Deployment</strong>
        </div>
        <p style="font-size: 0.65rem;">Operative assigned → Arrives at site</p>
      </div>
      <div class="card" style="padding: 1rem; border-color: var(--color-green);">
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
          <div style="width: 10px; height: 10px; background: var(--color-green); border-radius: 50%;"></div>
          <strong style="font-size: 0.75rem;">Site Control</strong>
        </div>
        <p style="font-size: 0.65rem;">Site Manager manages arrivals + performance</p>
      </div>
      <div class="card" style="padding: 1rem; border-color: var(--color-red);">
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
          <div style="width: 10px; height: 10px; background: var(--color-red); border-radius: 50%;"></div>
          <strong style="font-size: 0.75rem;">Issues</strong>
        </div>
        <p style="font-size: 0.65rem;">NCRs and problems → Escalate to Liam</p>
      </div>
    </div>
  </div>
</section>

<!-- ===== 03: TECHNOLOGY DEEP DIVE ===== -->
<section class="section" id="section-3">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Technology / 003</span>
    </div>
    
    <h2 class="fade-up">Technology <span class="text-gold">Stack</span></h2>
    
    <p class="fade-up">Every technology chosen for reliability, security, and long-term support. Here's what we're using and why.</p>
    
    <!-- Architecture Diagram with Connectors (matching system architecture style) -->
    <div class="fade-up" style="margin: 3rem 0; position: relative;">
      <svg class="tech-architecture-svg" viewBox="0 0 900 480" style="width: 100%; height: auto; max-width: 900px; margin: 0 auto; display: block;">
        <defs>
          <filter id="techGlow">
            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        
        <!-- Section Label: DEVELOPMENT -->
        <text x="450" y="25" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-size="11" letter-spacing="3" font-family="'JetBrains Mono', monospace">DEVELOPMENT</text>
        
        <!-- Top Row: GitHub + Next.js -->
        <g transform="translate(250, 45)">
          <rect x="0" y="0" width="160" height="70" rx="6" fill="rgba(167, 139, 250, 0.08)" stroke="#A78BFA" stroke-width="1.5"/>
          <text x="80" y="35" text-anchor="middle" fill="#fff" font-size="15" font-weight="600">GitHub</text>
          <text x="80" y="52" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="10">Version Control</text>
        </g>
        <g transform="translate(490, 45)">
          <rect x="0" y="0" width="160" height="70" rx="6" fill="rgba(52, 211, 153, 0.08)" stroke="#34D399" stroke-width="1.5"/>
          <text x="80" y="35" text-anchor="middle" fill="#fff" font-size="15" font-weight="600">Next.js</text>
          <text x="80" y="52" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="10">Framework</text>
        </g>
        
        <!-- Connector: GitHub down to junction -->
        <line x1="330" y1="115" x2="330" y2="145" stroke="#A78BFA" stroke-width="1.5" opacity="0.6"/>
        <circle cx="330" cy="145" r="4" fill="#A78BFA" filter="url(#techGlow)"/>
        
        <!-- Connector: Next.js down to junction -->
        <line x1="570" y1="115" x2="570" y2="145" stroke="#34D399" stroke-width="1.5" opacity="0.6"/>
        <circle cx="570" cy="145" r="4" fill="#34D399" filter="url(#techGlow)"/>
        
        <!-- Horizontal line connecting both to center junction -->
        <line x1="330" y1="145" x2="570" y2="145" stroke="#D4AF37" stroke-width="1.5" opacity="0.4"/>
        <circle cx="450" cy="145" r="5" fill="#D4AF37" filter="url(#techGlow)"/>
        
        <!-- Center junction down to Vercel -->
        <line x1="450" y1="145" x2="450" y2="175" stroke="#D4AF37" stroke-width="2" opacity="0.6"/>
        
        <!-- Section Label: HOSTING -->
        <text x="450" y="168" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-size="11" letter-spacing="3" font-family="'JetBrains Mono', monospace">HOSTING</text>
        
        <!-- Middle Row: Vercel (large central box) -->
        <g transform="translate(300, 185)">
          <rect x="0" y="0" width="300" height="90" rx="8" fill="rgba(212, 175, 55, 0.1)" stroke="#D4AF37" stroke-width="2"/>
          <text x="150" y="40" text-anchor="middle" fill="#fff" font-size="18" font-weight="700">Vercel</text>
          <text x="150" y="60" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="11">Global Edge Network • CDN • SSL</text>
          <text x="150" y="75" text-anchor="middle" fill="rgba(255,255,255,0.3)" font-size="10">Zero-Downtime Deployments</text>
        </g>
        
        <!-- Vercel down to junction, then splits to two destinations -->
        <line x1="450" y1="275" x2="450" y2="310" stroke="#D4AF37" stroke-width="2" opacity="0.6"/>
        <circle cx="450" cy="310" r="5" fill="#D4AF37" filter="url(#techGlow)"/>
        
        <!-- Section Label: WHERE DATA LIVES -->
        <text x="450" y="335" text-anchor="middle" fill="rgba(255,255,255,0.35)" font-size="11" letter-spacing="3" font-family="'JetBrains Mono', monospace">WHERE DATA LIVES</text>
        
        <!-- TWO paths from junction: left to Supabase, right to External -->
        <line x1="450" y1="310" x2="295" y2="310" stroke="#D4AF37" stroke-width="1.5" opacity="0.5"/>
        <line x1="450" y1="310" x2="660" y2="310" stroke="#25D366" stroke-width="1.5" opacity="0.5"/>
        
        <circle cx="295" cy="310" r="4" fill="#D4AF37" filter="url(#techGlow)"/>
        <circle cx="660" cy="310" r="4" fill="#25D366" filter="url(#techGlow)"/>
        
        <line x1="295" y1="310" x2="295" y2="350" stroke="#D4AF37" stroke-width="1.5" opacity="0.5"/>
        <line x1="660" y1="310" x2="660" y2="350" stroke="#25D366" stroke-width="1.5" opacity="0.5"/>
        
        <!-- Bottom Row: TWO boxes -->
        <!-- Supabase -->
        <g transform="translate(100, 350)">
          <rect x="0" y="0" width="390" height="100" rx="6" fill="rgba(212, 175, 55, 0.08)" stroke="#D4AF37" stroke-width="1.5"/>
          <text x="195" y="32" text-anchor="middle" fill="#fff" font-size="17" font-weight="600">Supabase</text>
          <text x="195" y="50" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="11">PostgreSQL + Storage • London</text>
          <text x="100" y="78" text-anchor="middle" fill="#D4AF37" font-size="9">Database</text>
          <text x="195" y="78" text-anchor="middle" fill="#D4AF37" font-size="9">File Storage</text>
          <text x="290" y="78" text-anchor="middle" fill="#D4AF37" font-size="9">Auth</text>
        </g>
        
        <!-- External Services -->
        <g transform="translate(465, 350)">
          <rect x="0" y="0" width="390" height="100" rx="6" fill="rgba(37, 211, 102, 0.08)" stroke="#25D366" stroke-width="1.5"/>
          <text x="195" y="32" text-anchor="middle" fill="#fff" font-size="17" font-weight="600">External Services</text>
          <text x="195" y="50" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="11">Third-Party APIs</text>
          <text x="100" y="78" text-anchor="middle" fill="#25D366" font-size="9">WhatsApp</text>
          <text x="195" y="78" text-anchor="middle" fill="#10a37f" font-size="9">OpenAI</text>
          <text x="290" y="78" text-anchor="middle" fill="#D4AF37" font-size="9">Gov.uk</text>
        </g>
      </svg>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem; margin-bottom: 1.5rem;">Technology Details</h3>
    
    <div class="grid grid-2 fade-up" style="align-items: start;">
      <!-- Supabase -->
      <div class="card" style="border-left: 3px solid var(--color-gold);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.brandfetch.io/supabase.com/w/64/h/64/symbol" alt="Supabase" style="width: 24px; height: 24px;"> Supabase
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> A managed database service built on PostgreSQL, the same database technology used by Instagram, Spotify, and Netflix.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>UK data centre (London). Your data stays in the UK</li>
          <li>Built-in authentication and security</li>
          <li>Row-level security for multi-tenant isolation</li>
          <li>Real-time subscriptions for live updates</li>
          <li>99.9% uptime guarantee</li>
        </ul>
        <span class="badge badge-gold">Database</span>
        <span class="badge badge-green">Auth</span>
        <span class="badge badge-gold">Storage</span>
      </div>
      
      <!-- Vercel -->
      <div class="card" style="border-left: 3px solid var(--color-gold);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.brandfetch.io/vercel.com/w/64/h/64/theme/dark/symbol" alt="Vercel" style="width: 24px; height: 24px;"> Vercel
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> A cloud hosting platform that runs your web application. Think of it as the "building" where your software lives.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Global edge network. Fast for users anywhere in the UK</li>
          <li>Automatic scaling. Handles 10 users or 10,000 users</li>
          <li>Zero-downtime deployments. Updates without interruption</li>
          <li>Built-in SSL certificates. Secure by default</li>
          <li>Used by McDonald's, Twitch, and The Washington Post</li>
        </ul>
        <span class="badge badge-gold">Hosting</span>
        <span class="badge badge-gold">CDN</span>
      </div>
      
      <!-- Next.js -->
      <div class="card" style="border-left: 3px solid var(--color-green);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.brandfetch.io/nextjs.org/w/64/h/64/theme/dark/symbol" alt="Next.js" style="width: 24px; height: 24px;"> Next.js
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> The framework that builds the actual web application: the screens, buttons, and interactions Liam will use daily.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Industry standard. Used by Nike, Hulu, TikTok</li>
          <li>Fast page loads. Content appears instantly</li>
          <li>Built by Vercel. Perfect integration</li>
          <li>Huge developer ecosystem. Easy to maintain</li>
          <li>Server and client in one codebase. Simpler, faster</li>
        </ul>
        <span class="badge badge-green">Framework</span>
        <span class="badge badge-gold">React</span>
      </div>
      
      <!-- GitHub -->
      <div class="card" style="border-left: 3px solid var(--color-purple);">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.brandfetch.io/github.com/w/64/h/64/theme/dark/symbol" alt="GitHub" style="width: 24px; height: 24px;"> GitHub
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> Where all the code is stored and versioned. Like a filing cabinet that tracks every change ever made.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Industry standard. Used by 100 million developers</li>
          <li>Complete history. See every change, who made it, when</li>
          <li>Owned by Microsoft. Not going anywhere</li>
          <li>Automatic backups. Code is never lost</li>
          <li>Collaboration tools. Multiple developers can work safely</li>
        </ul>
        <span class="badge badge-purple">Code Storage</span>
        <span class="badge badge-gold">Version Control</span>
      </div>
      
      <!-- WhatsApp Business API -->
      <div class="card" style="border-left: 3px solid #25D366;">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.brandfetch.io/whatsapp.com/w/64/h/64/symbol" alt="WhatsApp" style="width: 24px; height: 24px;"> WhatsApp Business API
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> The official way for businesses to send and receive WhatsApp messages programmatically.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>Everyone already has WhatsApp. No app to download</li>
          <li>Official Meta API. Reliable, compliant, supported</li>
          <li>End-to-end encryption. Messages are secure</li>
          <li>Delivery receipts. Know when messages are read</li>
          <li>~£0.03 per message. Much cheaper than SMS</li>
        </ul>
        <span class="badge" style="background: rgba(37, 211, 102, 0.15); color: #25D366;">Messaging</span>
        <span class="badge badge-gold">Official API</span>
      </div>
      
      <!-- OpenAI -->
      <div class="card" style="border-left: 3px solid #10a37f;">
        <h4 style="display: flex; align-items: center; gap: 0.5rem;">
          <img src="https://cdn.brandfetch.io/openai.com/w/64/h/64/theme/dark/symbol" alt="OpenAI" style="width: 24px; height: 24px;"> OpenAI (Sophie AI)
        </h4>
        <p style="margin-bottom: 1rem;"><strong>What it is:</strong> The AI technology powering Sophie, your recruitment assistant who qualifies candidates 24/7.</p>
        <p style="margin-bottom: 1rem;"><strong>Why we chose it:</strong></p>
        <ul style="color: var(--color-text-secondary); font-size: 0.85rem; padding-left: 1.25rem; margin-bottom: 1rem;">
          <li>GPT-4. The most capable AI model available</li>
          <li>Natural conversations. Candidates won't know it's AI</li>
          <li>Understands context. Handles follow-up questions</li>
          <li>~£0.30 per applicant. Compare to £500+ agency fee</li>
          <li>Works 24/7. Never sleeps, never takes holidays</li>
        </ul>
        <span class="badge" style="background: rgba(16, 163, 127, 0.15); color: #10a37f;">AI</span>
        <span class="badge badge-gold">GPT-4</span>
      </div>
    </div>
    
    <div class="card fade-up" style="margin-top: 2rem; border-color: var(--color-gold); background: rgba(6, 182, 212, 0.05);">
      <h4 style="color: var(--color-gold);">No Vendor Lock-In</h4>
      <p>All technologies use open standards. If you ever want to move providers, your data and code come with you. You own everything.</p>
    </div>
  </div>
</section>

<!-- ===== 04: DATA FLOW ===== -->
<section class="section dot-grid" id="section-4">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Data Flow / 003</span>
    </div>
    
    <h2 class="fade-up">Labour Request <span class="text-gold">Flow</span></h2>
    
    <p class="fade-up">Watch a labour request flow through the system.</p>
    
    <!-- Reallocation First Principle -->
    <div class="card fade-up" style="margin: 2rem 0; border-color: var(--color-gold); background: rgba(212, 175, 55, 0.05);">
      <h4 style="color: var(--color-gold); margin-bottom: 1rem;">⚡ Reallocation First: The Core Principle</h4>
      <p style="margin-bottom: 1rem;">Before any external recruitment, the system follows this priority:</p>
      <div class="grid grid-3" style="gap: 1rem; margin-bottom: 1rem;">
        <div style="text-align: center; padding: 1rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px;">
          <div style="font-size: 1.5rem; font-weight: 700; color: var(--color-gold);">1</div>
          <div style="font-weight: 600;">Reallocate</div>
          <div style="font-size: 0.8rem; color: var(--color-text-secondary);">Workers finishing current jobs</div>
        </div>
        <div style="text-align: center; padding: 1rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px;">
          <div style="font-size: 1.5rem; font-weight: 700; color: var(--color-gold);">2</div>
          <div style="font-weight: 600;">Internal Search</div>
          <div style="font-size: 0.8rem; color: var(--color-text-secondary);">Available pool matches</div>
        </div>
        <div style="text-align: center; padding: 1rem; background: rgba(167, 139, 250, 0.1); border-radius: 8px;">
          <div style="font-size: 1.5rem; font-weight: 700; color: var(--color-purple);">3</div>
          <div style="font-weight: 600;">External Recruit</div>
          <div style="font-size: 0.8rem; color: var(--color-text-secondary);">Only if pool exhausted</div>
        </div>
      </div>
      <p style="font-size: 0.9rem; color: var(--color-text-secondary);"><strong>Why this matters:</strong> Agencies make money on placement fees. This system prioritises your existing workers first, cutting external recruitment costs by maximising internal utilisation.</p>
    </div>
    
    <!-- Labour Request Flow - Clean Card Style with Animation -->
    <div class="fade-up" style="margin: 2rem 0;">
      <div style="display: flex; gap: 0.75rem; overflow-x: auto; padding: 1rem 0;">
        <!-- Step 1: Request -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(248, 113, 113, 0.08); border: 1.5px solid #F87171; border-radius: 8px; text-align: center; color: #F87171;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Request</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Site need</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #F87171; font-size: 1.2rem;">→</div>
        
        <!-- Step 2: Realloc -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(212, 175, 55, 0.08); border: 1.5px solid #D4AF37; border-radius: 8px; text-align: center; color: #D4AF37;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Realloc</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Check jobs</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #D4AF37; font-size: 1.2rem;">→</div>
        
        <!-- Step 3: Search -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(212, 175, 55, 0.08); border: 1.5px solid #D4AF37; border-radius: 8px; text-align: center; color: #D4AF37;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Search</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Labour pool</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #D4AF37; font-size: 1.2rem;">→</div>
        
        <!-- Step 4: Match -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(212, 175, 55, 0.08); border: 1.5px solid #D4AF37; border-radius: 8px; text-align: center; color: #D4AF37;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Match</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Skills + location</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #D4AF37; font-size: 1.2rem;">→</div>
        
        <!-- Step 5: Offer -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(37, 211, 102, 0.08); border: 1.5px solid #25D366; border-radius: 8px; text-align: center; color: #25D366;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Offer</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">WhatsApp</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #25D366; font-size: 1.2rem;">→</div>
        
        <!-- Step 6: Confirm -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(37, 211, 102, 0.08); border: 1.5px solid #25D366; border-radius: 8px; text-align: center; color: #25D366;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Confirm</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Accept</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #25D366; font-size: 1.2rem;">→</div>
        
        <!-- Step 7: Allocate -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(52, 211, 153, 0.15); border: 2px solid #34D399; border-radius: 8px; text-align: center; color: #34D399;">
          <div style="font-weight: 700; font-size: 0.9rem; margin-bottom: 0.25rem; color: #34D399;">Allocate</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Complete ✓</div>
        </div>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">Sophie AI Qualification</h3>
    
    <!-- Sophie AI Flow - Clean Card Style with Gates and Animation -->
    <div class="fade-up" style="margin: 2rem 0;">
      <div style="display: flex; gap: 0.75rem; overflow-x: auto; padding: 1rem 0;">
        <!-- Step 1: Greeting -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(167, 139, 250, 0.08); border: 1.5px solid #A78BFA; border-radius: 8px; text-align: center; color: #A78BFA;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Greeting</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Job details</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #A78BFA; font-size: 1.2rem;">→</div>
        
        <!-- Step 2: RTW Gate -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(248, 113, 113, 0.1); border: 2px solid #F87171; border-radius: 8px; text-align: center; color: #F87171;">
          <div style="font-size: 0.65rem; color: #F87171; font-weight: 600; margin-bottom: 0.25rem;">GATE 1</div>
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">RTW?</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Right to Work</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #F87171; font-size: 1.2rem;">→</div>
        
        <!-- Step 3: 18+ Gate -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(248, 113, 113, 0.1); border: 2px solid #F87171; border-radius: 8px; text-align: center; color: #F87171;">
          <div style="font-size: 0.65rem; color: #F87171; font-weight: 600; margin-bottom: 0.25rem;">GATE 2</div>
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">18+?</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Age check</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #F87171; font-size: 1.2rem;">→</div>
        
        <!-- Step 4: CSCS -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(212, 175, 55, 0.08); border: 1.5px solid #D4AF37; border-radius: 8px; text-align: center; color: #D4AF37;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">CSCS</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Card check</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #D4AF37; font-size: 1.2rem;">→</div>
        
        <!-- Step 5: Details -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(212, 175, 55, 0.08); border: 1.5px solid #D4AF37; border-radius: 8px; text-align: center; color: #D4AF37;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Details</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Personal info</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #D4AF37; font-size: 1.2rem;">→</div>
        
        <!-- Step 6: Docs -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(212, 175, 55, 0.08); border: 1.5px solid #D4AF37; border-radius: 8px; text-align: center; color: #D4AF37;">
          <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; color: #fff;">Docs</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">Upload</div>
        </div>
        <div class="flow-arrow" style="display: flex; align-items: center; color: #D4AF37; font-size: 1.2rem;">→</div>
        
        <!-- Step 7: Qualified -->
        <div class="flow-step" style="flex: 0 0 auto; width: 110px; padding: 1rem; background: rgba(52, 211, 153, 0.15); border: 2px solid #34D399; border-radius: 8px; text-align: center; color: #34D399;">
          <div style="font-weight: 700; font-size: 0.9rem; margin-bottom: 0.25rem; color: #34D399;">Qualified</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">→ Liam</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 04: DATABASE ===== -->
<section class="section" id="section-5">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Database / 004</span>
    </div>
    
    <h2 class="fade-up">Database <span class="text-gold">Schema</span></h2>
    
    <p class="fade-up">10 core tables with full referential integrity.</p>
    
    <div class="er-diagram fade-up">
      <div class="er-table">
        <div class="er-table-name">operatives</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="name">first_name, last_name</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">trade_category_id</span></div>
          <div class="er-col"><span class="name">day_rate, status</span></div>
          <div class="er-col"><span class="name">avg_rating</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">allocations</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">site_id</span></div>
          <div class="er-col"><span class="name">start_date, end_date</span></div>
          <div class="er-col"><span class="name">status</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">documents</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">document_type</span></div>
          <div class="er-col"><span class="name">expiry_date</span></div>
          <div class="er-col"><span class="name">is_verified</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">ncrs</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">incident_type</span></div>
          <div class="er-col"><span class="name">severity</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">sites</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="name">name, address</span></div>
          <div class="er-col"><span class="name">postcode, lat, lng</span></div>
        </div>
      </div>
      <div class="er-table">
        <div class="er-table-name">comms_log</div>
        <div class="er-table-cols">
          <div class="er-col"><span class="key">🔑</span> <span class="name">id</span> <span class="type">UUID</span></div>
          <div class="er-col"><span class="fk">→</span> <span class="name">operative_id</span></div>
          <div class="er-col"><span class="name">channel, direction</span></div>
          <div class="er-col"><span class="name">message_body</span></div>
        </div>
      </div>
    </div>
    
    <div class="card fade-up" style="border-color: var(--color-gold); background: rgba(6, 182, 212, 0.05);">
      <h4 style="color: var(--color-gold); margin-bottom: 1rem;">What Gets Stored</h4>
      <div class="grid grid-2" style="gap: 1.5rem;">
        <div>
          <p style="margin-bottom: 0.5rem;"><strong>Operatives:</strong> Names, phone numbers, day rates, skills, certifications, ratings</p>
          <p style="margin-bottom: 0.5rem;"><strong>Documents:</strong> CSCS cards, RTW proof, photo IDs, with expiry dates</p>
          <p><strong>Sites:</strong> All your work locations with addresses and postcodes</p>
        </div>
        <div>
          <p style="margin-bottom: 0.5rem;"><strong>Allocations:</strong> Who's working where, when, and for how long</p>
          <p style="margin-bottom: 0.5rem;"><strong>NCRs:</strong> Non-compliance reports with severity levels</p>
          <p><strong>Communications:</strong> Full log of every WhatsApp message sent/received</p>
        </div>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem; color: var(--color-text-muted); font-size: 0.9rem;">Technical Detail</h3>
    <div class="code-block code-typing fade-up" id="sql-code">
      <div class="code-header">
        <span class="code-dot red"></span>
        <span class="code-dot yellow"></span>
        <span class="code-dot green"></span>
        <span class="code-title">operatives.sql</span>
      </div>
      <pre><span class="line"><span class="keyword">CREATE TABLE</span> <span class="type">operatives</span> (</span>
<span class="line">  id <span class="type">UUID</span> <span class="keyword">PRIMARY KEY</span>,</span>
<span class="line">  first_name <span class="type">VARCHAR(100)</span> <span class="keyword">NOT NULL</span>,</span>
<span class="line">  phone <span class="type">VARCHAR(20)</span> <span class="keyword">UNIQUE</span>,</span>
<span class="line">  day_rate <span class="type">DECIMAL(8,2)</span>,</span>
<span class="line">  rtw_verified <span class="type">BOOLEAN</span> <span class="keyword">DEFAULT</span> <span class="string">false</span>,</span>
<span class="line">  cscs_expiry <span class="type">DATE</span>,</span>
<span class="line">  avg_rating <span class="type">DECIMAL(3,2)</span>,</span>
<span class="line">  status <span class="type">VARCHAR(50)</span></span>
<span class="line">);</span></pre>
    </div>
  </div>
</section>

<!-- ===== 05: WHATSAPP ===== -->
<section class="section line-grid" id="section-6">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">WhatsApp / 005</span>
    </div>
    
    <h2 class="fade-up">WhatsApp <span class="text-green">Integration</span></h2>
    
    <div class="grid grid-3 fade-up" style="margin-top: 2rem;">
      <div>
        <h3 style="color: var(--color-green);">Arrival Check</h3>
        <div class="whatsapp-chat wa-loop" id="wa-chat-1">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, #25D366, #128C7E);">
              <img src="https://cdn.brandfetch.io/whatsapp.com/w/32/h/32/symbol" alt="" style="width: 16px; height: 16px; filter: brightness(10);">
            </div>
            <div>
              <div class="whatsapp-name">Aztec BOS</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg incoming" data-delay="800">Good morning! 🌅<br>Did <strong>John Smith</strong> arrive at <strong>Westfield</strong>?<br><br>Reply YES or NO<div class="wa-time">07:15</div></div>
            <div class="wa-msg outgoing" data-delay="2500">YES<div class="wa-time">07:18</div></div>
            <div class="wa-msg incoming" data-delay="3500">✅ <strong>Arrival confirmed</strong><br>Clock-in: 07:18<br>Site: Westfield Shopping Centre<div class="wa-time">07:18</div></div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-red);">NCR Report</h3>
        <div class="whatsapp-chat wa-loop" id="wa-chat-2">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, var(--color-red), #b91c1c);">PM</div>
            <div>
              <div class="whatsapp-name">Marcus (PM)</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg outgoing" data-delay="500">Red card John Smith - walked off site at 2pm<div class="wa-time">14:30</div></div>
            <div class="wa-msg incoming" data-delay="1800">⚠️ <strong>NCR #247 Created</strong><br><br>Operative: John Smith<br>Type: Walk-off<br>Time: 14:00<br><br>Need replacement?<div class="wa-time">14:30</div></div>
            <div class="wa-msg outgoing" data-delay="3500">YES urgent<div class="wa-time">14:31</div></div>
            <div class="wa-msg incoming" data-delay="4500">🔄 Liam notified<br>Searching available operatives...<div class="wa-time">14:31</div></div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-gold);">Shift Offer</h3>
        <div class="whatsapp-chat wa-loop" id="wa-chat-3">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, #25D366, #128C7E);">
              <img src="https://cdn.brandfetch.io/whatsapp.com/w/32/h/32/symbol" alt="" style="width: 16px; height: 16px; filter: brightness(10);">
            </div>
            <div>
              <div class="whatsapp-name">Aztec BOS</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg incoming" data-delay="800">Hi Dave! 👋<br><br>Shift available:<br>📍 <strong>Westfield</strong>, W12 7GF<br>📅 Tomorrow, 7am start<br>💷 £180/day<br>🔧 General Labourer<br><br>Reply YES to confirm<div class="wa-time">16:00</div></div>
            <div class="wa-msg outgoing" data-delay="3000">YES<div class="wa-time">16:02</div></div>
            <div class="wa-msg incoming" data-delay="4000">✅ <strong>Shift Confirmed!</strong><br><br>📍 Westfield Shopping Centre<br>📅 Mon 5th Feb, 07:00<br>👷 Report to: Marcus<br><br>Good luck! 🚧<div class="wa-time">16:02</div></div>
          </div>
        </div>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem; color: var(--color-purple);">Sophie AI Recruitment</h3>
    <p class="fade-up" style="margin-bottom: 1.5rem;">Sophie qualifies candidates 24/7 via WhatsApp. Here's what the conversations look like:</p>
    
    <div class="grid grid-2 fade-up" style="gap: 2rem;">
      <div>
        <h4 style="color: var(--color-green); margin-bottom: 0.75rem;">✓ Qualified Applicant</h4>
        <div class="whatsapp-chat wa-loop" id="wa-chat-sophie-pass">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, var(--color-purple), #6d28d9);">S</div>
            <div>
              <div class="whatsapp-name">Sophie (Aztec)</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg incoming" data-delay="800">Hi! 👋 I'm Sophie from Aztec Landscapes.<br><br>Thanks for applying! Quick questions to check you're a fit:<br><br>Do you have a valid CSCS card?<div class="wa-time">09:15</div></div>
            <div class="wa-msg outgoing" data-delay="2500">Yes green card<div class="wa-time">09:16</div></div>
            <div class="wa-msg incoming" data-delay="3500">Great! ✅<br><br>Do you have the right to work in the UK?<div class="wa-time">09:16</div></div>
            <div class="wa-msg outgoing" data-delay="5000">Yes British passport<div class="wa-time">09:17</div></div>
            <div class="wa-msg incoming" data-delay="6000">Perfect! ✅<br><br>How many years landscaping experience?<div class="wa-time">09:17</div></div>
            <div class="wa-msg outgoing" data-delay="7500">4 years<div class="wa-time">09:18</div></div>
            <div class="wa-msg incoming" data-delay="8500">Excellent! 🎉<br><br>You're <strong>qualified</strong>. Liam will call you today to discuss rates and start dates.<br><br>Welcome to Aztec! 🌿<div class="wa-time">09:18</div></div>
          </div>
        </div>
      </div>
      
      <div>
        <h4 style="color: var(--color-red); margin-bottom: 0.75rem;">✗ Unqualified Applicant</h4>
        <div class="whatsapp-chat wa-loop" id="wa-chat-sophie-fail">
          <div class="whatsapp-header">
            <div class="whatsapp-avatar" style="background: linear-gradient(135deg, var(--color-purple), #6d28d9);">S</div>
            <div>
              <div class="whatsapp-name">Sophie (Aztec)</div>
              <div class="whatsapp-status">online</div>
            </div>
          </div>
          <div class="wa-status-bar">TODAY</div>
          <div class="whatsapp-messages">
            <div class="wa-typing"><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div><div class="wa-typing-dot"></div></div>
            <div class="wa-msg incoming" data-delay="800">Hi! 👋 I'm Sophie from Aztec Landscapes.<br><br>Thanks for applying! Quick questions to check you're a fit:<br><br>Do you have a valid CSCS card?<div class="wa-time">11:30</div></div>
            <div class="wa-msg outgoing" data-delay="2500">No not yet<div class="wa-time">11:31</div></div>
            <div class="wa-msg incoming" data-delay="3500">No problem! Are you planning to get one?<div class="wa-time">11:31</div></div>
            <div class="wa-msg outgoing" data-delay="5000">Maybe later<div class="wa-time">11:32</div></div>
            <div class="wa-msg incoming" data-delay="6000">Thanks for your honesty.<br><br>Unfortunately we need all operatives to have a valid CSCS card for site access.<br><br>Once you have one, feel free to reapply! Here's how to get started:<br>👉 cscs.uk.com<br><br>Good luck! 👍<div class="wa-time">11:32</div></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 06: COMPLIANCE ===== -->
<section class="section dot-grid" id="section-7">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Compliance / 006</span>
    </div>
    
    <h2 class="fade-up">Compliance <span class="text-red">Engine</span></h2>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div>
        <h3>Pre-Start Checks</h3>
        <div class="card" style="border-color: var(--color-red); background: rgba(239, 68, 68, 0.05);">
          <p style="margin-bottom: 1rem;">Before any operative can be allocated to a site, the system automatically checks:</p>
          <ul style="color: var(--color-text-secondary); line-height: 2;">
            <li><strong>Right to Work:</strong> must be verified ✓</li>
            <li><strong>CSCS Card:</strong> must not be expired ✓</li>
            <li><strong>Status:</strong> must not be blocked ✓</li>
          </ul>
          <p style="margin-top: 1rem; color: var(--color-red);"><strong>If any check fails → Allocation blocked automatically</strong></p>
        </div>
      </div>
      
      <div>
        <h3>Document Alerts</h3>
        <table class="table">
          <thead><tr><th>Document</th><th>Alert Days</th><th>Action</th></tr></thead>
          <tbody>
            <tr><td>Right to Work</td><td>30, 14, 7, 0</td><td><span class="badge badge-red">Blocks</span></td></tr>
            <tr><td>CSCS Card</td><td>60, 30, 14, 0</td><td><span class="badge badge-red">Blocks</span></td></tr>
            <tr><td>CPCS/NPORS</td><td>30, 14, 7</td><td><span class="badge badge-gold">Warns</span></td></tr>
          </tbody>
        </table>
        <div class="card" style="margin-top: 1rem; border-color: var(--color-red);">
          <h4 style="color: var(--color-red);">Zero Exceptions</h4>
          <p>No overrides. System enforces at database level.</p>
        </div>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">UK Working Time Regulations</h3>
    <p class="fade-up">The system enforces UK labour law automatically on every shift assignment:</p>
    
    <div class="grid grid-3 fade-up" style="margin-top: 1.5rem;">
      <div class="card" style="border-color: var(--color-gold);">
        <h4 style="color: var(--color-gold);">48-Hour Week</h4>
        <p style="font-size: 0.9rem;">System tracks weekly hours across all sites. Warns at 44hrs, blocks at 48hrs (unless opt-out on file).</p>
      </div>
      <div class="card" style="border-color: var(--color-gold);">
        <h4 style="color: var(--color-gold);">11-Hour Rest</h4>
        <p style="font-size: 0.9rem;">Minimum 11 hours between shifts enforced. System won't allow back-to-back assignments that violate rest periods.</p>
      </div>
      <div class="card" style="border-color: var(--color-gold);">
        <h4 style="color: var(--color-gold);">Break Entitlement</h4>
        <p style="font-size: 0.9rem;">6+ hour shifts require 20min break. System calculates and records break compliance automatically.</p>
      </div>
    </div>
    
    <div class="card fade-up" style="margin-top: 1.5rem; border-color: var(--color-gold); background: rgba(212, 175, 55, 0.05);">
      <h4 style="color: var(--color-gold);">Plant & Equipment Certification</h4>
      <p style="margin-bottom: 1rem;">Workers can only be assigned to equipment they're certified for:</p>
      <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
        <span class="badge badge-gold">CPCS</span>
        <span class="badge badge-gold">NPORS</span>
        <span class="badge badge-green">LANTRA</span>
        <span class="badge badge-green">CS30-CS42 (Chainsaw)</span>
        <span class="badge badge-gold">First Aid</span>
      </div>
      <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--color-text-secondary);">System matches job requirements to operative certifications. No cert = no assignment to that equipment.</p>
    </div>
    
    <h3 class="fade-up" style="margin-top: 3rem;">Performance & Rating System</h3>
    <p class="fade-up">Every operative has a performance score that influences future allocation priority:</p>
    
    <div class="grid grid-2 fade-up" style="margin-top: 1.5rem; align-items: start;">
      <div class="card" style="border-color: var(--color-purple);">
        <h4 style="color: var(--color-purple);">⭐ 1-5 Star Rating</h4>
        <p style="margin-bottom: 1rem;">Site managers rate operatives via WhatsApp at end of assignment:</p>
        <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
          <span style="font-size: 1.5rem;">⭐⭐⭐⭐⭐</span>
        </div>
        <ul style="font-size: 0.85rem; color: var(--color-text-secondary); padding-left: 1rem;">
          <li>Collected automatically via WhatsApp</li>
          <li>Average score displayed on profile</li>
          <li>Higher rated = priority in allocation</li>
        </ul>
      </div>
      
      <div class="card" style="border-color: var(--color-red);">
        <h4 style="color: var(--color-red);">🚫 Re-employability Flags</h4>
        <p style="margin-bottom: 1rem;">System tracks workers who shouldn't be rehired:</p>
        <table class="table" style="font-size: 0.85rem;">
          <tbody>
            <tr><td><span class="badge badge-green">Active</span></td><td>Available for work</td></tr>
            <tr><td><span class="badge badge-gold">Caution</span></td><td>Requires approval</td></tr>
            <tr><td><span class="badge badge-red">Do Not Rehire</span></td><td>Blocked permanently</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <div class="card fade-up" style="margin-top: 1.5rem; border-color: var(--color-gold); background: rgba(212, 175, 55, 0.05);">
      <h4 style="color: var(--color-gold);">Smart Allocation Priority</h4>
      <p>When filling a labour request, the system automatically ranks candidates by:</p>
      <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem;">
        <span class="badge badge-gold">1. Average Rating</span>
        <span class="badge badge-gold">2. Recent Work History</span>
        <span class="badge badge-green">3. Skills Match</span>
        <span class="badge badge-purple">4. Location/Travel Time</span>
      </div>
      <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--color-text-secondary);">Best performers get offered work first. Poor performers drop to bottom of queue.</p>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem; color: var(--color-text-muted); font-size: 0.9rem;">Technical Detail</h3>
    <div class="code-block code-typing fade-up" id="compliance-code">
      <div class="code-header">
        <span class="code-dot red"></span>
        <span class="code-dot yellow"></span>
        <span class="code-dot green"></span>
        <span class="code-title">canStart.ts</span>
      </div>
      <pre><span class="line"><span class="keyword">function</span> <span class="function">canStart</span>(operative) {</span>
<span class="line">  <span class="keyword">const</span> blockers = [];</span>
<span class="line">  </span>
<span class="line">  <span class="keyword">if</span> (!operative.rtwVerified)</span>
<span class="line">    blockers.push(<span class="string">'Right to Work'</span>);</span>
<span class="line">  <span class="keyword">if</span> (operative.cscsExpiry < today)</span>
<span class="line">    blockers.push(<span class="string">'CSCS Expired'</span>);</span>
<span class="line">  <span class="keyword">if</span> (operative.status === <span class="string">'blocked'</span>)</span>
<span class="line">    blockers.push(<span class="string">'Blocked'</span>);</span>
<span class="line">  <span class="keyword">if</span> (weeklyHours(operative) >= 48)</span>
<span class="line">    blockers.push(<span class="string">'Working Time Limit'</span>);</span>
<span class="line">  </span>
<span class="line">  <span class="keyword">return</span> blockers.length === 0;</span>
<span class="line">}</span></pre>
    </div>
  </div>
</section>

<!-- ===== 07: SECURITY ===== -->
<section class="section" id="section-8">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Security / 007</span>
    </div>
    
    <h2 class="fade-up">Security & <span class="text-red">Data Protection</span></h2>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem;">
      <div class="card" style="border-color: var(--color-gold);">
        <h3 style="color: var(--color-gold); margin-bottom: 1rem;">Data Protection</h3>
        <ul style="color: var(--color-text-secondary); line-height: 2.2;">
          <li><strong>Stored in the UK.</strong> London data centre, your data never leaves the country</li>
          <li><strong>Fully encrypted.</strong> Data is scrambled when stored and when transmitted</li>
          <li><strong>GDPR compliant.</strong> Workers can request their data or ask for deletion</li>
          <li><strong>Cannot be downloaded.</strong> No bulk export of the operative database</li>
        </ul>
      </div>
      <div class="card" style="border-color: var(--color-gold);">
        <h3 style="color: var(--color-gold); margin-bottom: 1rem;">Access Controls</h3>
        <ul style="color: var(--color-text-secondary); line-height: 2.2;">
          <li><strong>Login required.</strong> Email and password to access the system</li>
          <li><strong>Role-based access.</strong> Directors see everything, Site Managers see their sites</li>
          <li><strong>Two-factor available.</strong> Extra security layer if wanted</li>
          <li><strong>Full audit trail.</strong> Every action logged (who did what, when)</li>
        </ul>
      </div>
    </div>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; gap: 1.5rem;">
      <div class="card" style="border-color: var(--color-gold);">
        <h4 style="color: var(--color-gold);">Data Isolation</h4>
        <p>Each user only sees their own organisation's data. The database enforces this automatically, making it impossible to access another company's operatives.</p>
      </div>
      <div class="card" style="border-color: var(--color-red);">
        <h4 style="color: var(--color-red);">No Bulk Downloads</h4>
        <p>Per BOS Bible: Controls in place to ensure the operative database cannot be bulk exported. Your data stays in the system.</p>
      </div>
    </div>
    
    <h3 class="fade-up" style="margin-top: 2rem; color: var(--color-text-muted); font-size: 0.9rem;">Technical Detail: Row-Level Security</h3>
    <div class="code-block code-typing fade-up">
      <div class="code-header">
        <span class="code-dot red"></span>
        <span class="code-dot yellow"></span>
        <span class="code-dot green"></span>
        <span class="code-title">rls_policy.sql</span>
      </div>
      <pre><span class="line"><span class="comment">-- Users only see their organization's data</span></span>
<span class="line"><span class="keyword">CREATE POLICY</span> <span class="string">"org_isolation"</span></span>
<span class="line"><span class="keyword">ON</span> operatives <span class="keyword">FOR SELECT</span></span>
<span class="line"><span class="keyword">USING</span> (</span>
<span class="line">  organization_id = (</span>
<span class="line">    <span class="keyword">SELECT</span> organization_id</span>
<span class="line">    <span class="keyword">FROM</span> users</span>
<span class="line">    <span class="keyword">WHERE</span> id = <span class="function">auth.uid</span>()</span>
<span class="line">  )</span>
<span class="line">);</span></pre>
    </div>
  </div>
</section>

<!-- ===== 08: TIMELINE ===== -->
<section class="section line-grid" id="section-9">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Timeline / 007</span>
    </div>
    
    <h2 class="fade-up">Implementation <span class="text-gold">Timeline</span></h2>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 1</span>
            <h4>Discovery & Foundation</h4>
            <p>Requirements, database, auth setup.</p>
            <span class="timeline-duration">2 Weeks</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 2</span>
            <h4>Core Build</h4>
            <p>Operatives, sites, allocations, compliance.</p>
            <span class="timeline-duration">6 Weeks</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 3</span>
            <h4>Communications</h4>
            <p>WhatsApp, Sophie AI, NCR flow.</p>
            <span class="timeline-duration">3 Weeks</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-phase">Phase 4</span>
            <h4>Polish & Deploy</h4>
            <p>Testing, training, go-live.</p>
            <span class="timeline-duration">3 Weeks</span>
          </div>
        </div>
      </div>
      
      <div>
        <h3>Deliverables</h3>
        <div class="card" style="margin-bottom: 1rem;"><h4 class="text-gold">Phase 1</h4><p>✓ Database live<br>✓ Auth working<br>✓ Dashboard shell</p></div>
        <div class="card" style="margin-bottom: 1rem;"><h4 class="text-gold">Phase 2</h4><p>✓ Operative management<br>✓ Document tracking<br>✓ Allocations</p></div>
        <div class="card" style="margin-bottom: 1rem;"><h4 class="text-green">Phase 3</h4><p>✓ WhatsApp connected<br>✓ Sophie live<br>✓ NCR via WhatsApp</p></div>
        <div class="card"><h4 class="text-purple">Phase 4</h4><p>✓ UAT complete<br>✓ Training done<br>✓ Go-live</p></div>
      </div>
    </div>
  </div>
</section>

<!-- ===== 10: RISK & INSURANCE ===== -->
<section class="section" id="section-10">
  <div class="container">
    <div class="section-label fade-up">
      <div class="label-line"></div>
      <span class="label">Risk & Insurance / 010</span>
    </div>
    
    <h2 class="fade-up">Key Person <span class="text-gold">Insurance</span></h2>
    
    <p class="fade-up">Protecting your investment and ensuring business continuity.</p>
    
    <div class="grid grid-2 fade-up" style="margin-top: 2rem; align-items: start;">
      <div>
        <h3 style="color: var(--color-gold);">Key Person Insurance</h3>
        <p style="margin-bottom: 1.5rem;">Key Person Insurance protects businesses against the loss of individuals critical to operations. For the BOS project, this covers scenarios where Cold Lava's key developers become unavailable.</p>
        
        <div class="card" style="border-left: 3px solid var(--color-gold);">
          <h4>Coverage Includes</h4>
          <ul style="color: var(--color-text-secondary); font-size: 0.875rem; padding-left: 1.25rem;">
            <li>Costs to hire replacement developers</li>
            <li>Training time for new team members</li>
            <li>Project delays and business interruption</li>
            <li>Documentation and knowledge transfer</li>
          </ul>
        </div>
      </div>
      
      <div>
        <h3 style="color: var(--color-gold);">Your Protections</h3>
        
        <div class="card" style="margin-bottom: 1rem; border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ Full Code Ownership</h4>
          <p>All code is stored in <strong>your</strong> GitHub repository (Aztec-Landscapes). You own it. Any developer can pick it up.</p>
        </div>
        
        <div class="card" style="margin-bottom: 1rem; border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ Standard Tech Stack</h4>
          <p>We use mainstream technologies (Next.js, Supabase, PostgreSQL). Thousands of developers worldwide can work on this.</p>
        </div>
        
        <div class="card" style="margin-bottom: 1rem; border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ Full Documentation</h4>
          <p>Every system is documented. Database schemas, API specs, deployment guides, all maintained in the repository.</p>
        </div>
        
        <div class="card" style="border-color: var(--color-green);">
          <h4 style="color: var(--color-green);">✓ No Lock-In</h4>
          <p>No custom frameworks or obscure libraries. If Cold Lava disappeared tomorrow, any competent agency could continue the work.</p>
        </div>
      </div>
    </div>
    
    <div class="card fade-up" style="margin-top: 2rem; border-color: var(--color-gold); background: rgba(201, 169, 98, 0.05);">
      <h4 style="color: var(--color-gold);">Cold Lava's Recommendation</h4>
      <p>While the technical risk is mitigated by code ownership and standard technologies, we recommend discussing key person insurance with your business insurance provider. This provides financial protection and peace of mind for a mission-critical system.</p>
    </div>
  </div>
</section>

<!-- ===== 11: APPROVAL ===== -->
<section class="section cta-section dot-grid" id="section-11">
  <div class="corner tl"></div>
  <div class="corner br"></div>
  
  <div class="container">
    <div class="section-label fade-up" style="justify-content: center;">
      <div class="label-line"></div>
      <span class="label">Architecture Sign-Off / 008</span>
    </div>
    
    <h2 class="fade-up" style="font-size: clamp(2rem, 5vw, 3.5rem);">
      Architecture <span class="text-gold">Approval</span>
    </h2>
    
    <p class="fade-up" style="max-width: 600px; margin: 0 auto 2rem; text-align: center;">
      Review the technical architecture. Confirm this matches your operational requirements.
    </p>
    
    <div class="stats-grid fade-up" style="max-width: 800px; margin: 2rem auto;">
      <div class="stat-item"><div class="stat-number">12-16</div><div class="stat-label">Weeks</div></div>
      <div class="stat-item"><div class="stat-number">£55k</div><div class="stat-label">Investment</div></div>
      <div class="stat-item"><div class="stat-number">£120k</div><div class="stat-label">Annual Saving</div></div>
      <div class="stat-item"><div class="stat-number">&lt;12mo</div><div class="stat-label">ROI</div></div>
    </div>
    
    <div class="fade-up" style="margin-top: 3rem; text-align: center;">
      <a href="mailto:oliver@coldlava.ai" class="btn btn-primary">Approve Architecture</a>
    </div>
    
    <div class="fade-up" style="margin-top: 4rem; color: var(--color-text-muted); font-size: 0.875rem; text-align: center;">
      <p>oliver@coldlava.ai • jacob@coldlava.ai</p>
      <p class="mono" style="margin-top: 1rem;">© 2026 Cold Lava AI Ltd</p>
    </div>
  </div>
</section>

<div class="grain"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<script>
  gsap.registerPlugin(ScrollTrigger);
  
  // ===== LOADING SCREEN =====
  const loaderScreen = document.getElementById('loaderScreen');
  const loaderProgress = document.getElementById('loaderProgress');
  const body = document.body;
  
  // Track loading progress
  let loadProgress = 0;
  const updateProgress = (progress) => {
    loadProgress = Math.min(progress, 100);
    if (loaderProgress) {
      loaderProgress.style.width = loadProgress + '%';
    }
  };
  
  // Simulate progressive loading
  let progressInterval = setInterval(() => {
    if (loadProgress < 90) {
      updateProgress(loadProgress + Math.random() * 15);
    }
  }, 200);
  
  // Complete loading when everything is ready
  const completeLoading = () => {
    clearInterval(progressInterval);
    updateProgress(100);
    
    setTimeout(() => {
      if (loaderScreen) {
        loaderScreen.classList.add('hidden');
      }
      body.classList.remove('loading');
      
      // Refresh ScrollTrigger after content reveals
      setTimeout(() => {
        ScrollTrigger.refresh();
      }, 100);
    }, 500);
  };
  
  // Wait for all assets
  window.addEventListener('load', completeLoading);
  
  // Fallback timeout (max 5 seconds)
  setTimeout(completeLoading, 5000);
  
  // ===== PROGRESS BAR =====
  gsap.to('#progressBar', {
    width: '100%',
    ease: 'none',
    scrollTrigger: {
      trigger: document.body,
      start: 'top top',
      end: 'bottom bottom',
      scrub: 0.3
    }
  });
  
  // ===== SECTION NAV =====
  const sections = document.querySelectorAll('.section');
  const navDots = document.querySelectorAll('.nav-dot');
  
  sections.forEach((section, i) => {
    ScrollTrigger.create({
      trigger: section,
      start: 'top center',
      end: 'bottom center',
      onEnter: () => updateNav(i),
      onEnterBack: () => updateNav(i)
    });
  });
  
  function updateNav(index) {
    navDots.forEach((dot, i) => {
      dot.classList.toggle('active', i === index);
    });
  }
  
  navDots.forEach(dot => {
    dot.addEventListener('click', () => {
      const sectionIndex = dot.dataset.section;
      const target = document.getElementById(`section-${sectionIndex}`);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
  
  // ===== PARALLAX FLOATING ELEMENTS =====
  document.querySelectorAll('.float-element').forEach(el => {
    const speed = el.dataset.speed || 0.05;
    gsap.to(el, {
      y: () => window.innerHeight * speed,
      ease: 'none',
      scrollTrigger: {
        trigger: el.closest('.section'),
        start: 'top bottom',
        end: 'bottom top',
        scrub: true
      }
    });
  });
  
  // ===== PREMIUM FADE UP WITH STAGGER =====
  // Group fade-ups by section for staggered reveal
  document.querySelectorAll('.section').forEach(section => {
    const fadeEls = section.querySelectorAll('.fade-up');
    if (fadeEls.length === 0) return;
    
    gsap.fromTo(fadeEls, 
      { 
        opacity: 0, 
        y: 60,
        scale: 0.98
      },
      {
        opacity: 1,
        y: 0,
        scale: 1,
        duration: 1.2,
        ease: 'power4.out',
        stagger: 0.15,
        scrollTrigger: {
          trigger: section,
          start: 'top 75%',
          toggleActions: 'play none none none'
        }
      }
    );
  });
  
  // ===== PREMIUM CARD HOVER EFFECTS =====
  document.querySelectorAll('.card').forEach(card => {
    card.addEventListener('mouseenter', () => {
      gsap.to(card, {
        scale: 1.02,
        duration: 0.4,
        ease: 'power2.out'
      });
    });
    card.addEventListener('mouseleave', () => {
      gsap.to(card, {
        scale: 1,
        duration: 0.6,
        ease: 'elastic.out(1, 0.5)'
      });
    });
  });
  
  // ===== HERO PARALLAX =====
  const heroSection = document.querySelector('.hero');
  if (heroSection) {
    gsap.to(heroSection.querySelector('h1'), {
      y: 100,
      opacity: 0.3,
      ease: 'none',
      scrollTrigger: {
        trigger: heroSection,
        start: 'top top',
        end: 'bottom top',
        scrub: 1.5
      }
    });
  }
  
  // ===== SVG ARCHITECTURE DRAW-IN =====
  const archSvg = document.querySelector('.arch-svg');
  if (archSvg) {
    const paths = archSvg.querySelectorAll('.connection');
    paths.forEach(path => {
      const length = path.getTotalLength ? path.getTotalLength() : 300;
      gsap.set(path, { strokeDasharray: length, strokeDashoffset: length });
      gsap.to(path, {
        strokeDashoffset: 0,
        duration: 2,
        ease: 'power2.inOut',
        scrollTrigger: {
          trigger: archSvg,
          start: 'top 70%',
          toggleActions: 'play none none none'
        }
      });
    });
  }
  
  // ===== SMOOTH NUMBER REVEAL =====
  const smoothReveal = (el, delay = 0) => {
    gsap.fromTo(el,
      { opacity: 0, y: 30, rotateX: -30 },
      { 
        opacity: 1, 
        y: 0, 
        rotateX: 0,
        duration: 0.8,
        delay,
        ease: 'back.out(1.2)'
      }
    );
  };
  
  // ===== STAT COUNTERS =====
  gsap.utils.toArray('.stat-number[data-count]').forEach(stat => {
    const target = parseFloat(stat.dataset.count);
    ScrollTrigger.create({
      trigger: stat,
      start: 'top 80%',
      onEnter: () => {
        stat.closest('.stat-item')?.classList.add('animate');
        gsap.to(stat, {
          textContent: target,
          duration: 2,
          ease: 'power2.out',
          snap: { textContent: 1 },
          onUpdate: function() {
            stat.textContent = Math.round(this.targets()[0].textContent);
          }
        });
      },
      once: true
    });
  });
  
  // ===== ANIMATED FLOW =====
  function animateFlow(selector) {
    const container = document.querySelector(selector);
    if (!container) return;
    
    const steps = container.querySelectorAll('.flow-step');
    const connectors = container.querySelectorAll('.flow-connector');
    
    ScrollTrigger.create({
      trigger: container,
      start: 'top 70%',
      onEnter: () => {
        let delay = 0;
        steps.forEach((step, i) => {
          setTimeout(() => {
            step.classList.add('visible');
            step.classList.add('active');
            if (i > 0) setTimeout(() => steps[i-1].classList.remove('active'), 300);
          }, delay);
          if (i < connectors.length) {
            setTimeout(() => {
              connectors[i].classList.add('active');
              setTimeout(() => connectors[i].classList.remove('active'), 600);
            }, delay + 300);
          }
          delay += 350;
        });
      },
      once: true
    });
  }
  
  animateFlow('#labour-flow');
  animateFlow('#sophie-flow');
  
  // ===== CODE TYPING =====
  document.querySelectorAll('.code-typing').forEach(block => {
    ScrollTrigger.create({
      trigger: block,
      start: 'top 75%',
      onEnter: () => block.classList.add('animate'),
      once: true
    });
  });
  
  // ===== WHATSAPP MESSAGES (LOOPING) =====
  function animateWhatsAppChat(chat) {
    const messages = chat.querySelectorAll('.wa-msg');
    const typing = chat.querySelector('.wa-typing');
    let currentIndex = 0;
    let isAnimating = false;
    
    function resetChat() {
      messages.forEach(msg => {
        msg.classList.remove('animate', 'fade-out');
        msg.style.display = 'none';
      });
      if (typing) typing.classList.remove('show');
      currentIndex = 0;
    }
    
    function showNextMessage() {
      if (currentIndex >= messages.length) {
        // All messages shown, wait then reset
        setTimeout(() => {
          // Fade out all messages
          messages.forEach(msg => msg.classList.add('fade-out'));
          setTimeout(() => {
            resetChat();
            setTimeout(showNextMessage, 500);
          }, 400);
        }, 3000);
        return;
      }
      
      const msg = messages[currentIndex];
      const delay = parseInt(msg.dataset.delay) || 800;
      const isIncoming = msg.classList.contains('incoming');
      
      // Show typing indicator for incoming messages
      if (isIncoming && typing) {
        typing.classList.add('show');
        setTimeout(() => {
          typing.classList.remove('show');
          msg.style.display = 'block';
          msg.classList.add('animate');
          currentIndex++;
          setTimeout(showNextMessage, 300);
        }, delay);
      } else {
        // Outgoing message - shorter delay
        setTimeout(() => {
          msg.style.display = 'block';
          msg.classList.add('animate');
          currentIndex++;
          setTimeout(showNextMessage, 300);
        }, delay);
      }
    }
    
    // Start animation when chat enters viewport
    ScrollTrigger.create({
      trigger: chat,
      start: 'top 75%',
      onEnter: () => {
        if (!isAnimating) {
          isAnimating = true;
          resetChat();
          setTimeout(showNextMessage, 500);
        }
      }
    });
  }
  
  document.querySelectorAll('.whatsapp-chat.wa-loop').forEach(animateWhatsAppChat);
  
  // ===== PREMIUM ARCHITECTURE HOVER =====
  document.querySelectorAll('.arch-node').forEach(node => {
    const box = node.querySelector('.box');
    node.addEventListener('mouseenter', () => {
      gsap.to(box, { 
        strokeWidth: 3, 
        scale: 1.02,
        filter: 'url(#glow)',
        duration: 0.4,
        ease: 'power2.out'
      });
    });
    node.addEventListener('mouseleave', () => {
      gsap.to(box, { 
        strokeWidth: 1.5, 
        scale: 1,
        filter: 'none',
        duration: 0.5,
        ease: 'power2.inOut'
      });
    });
  });
  
  // ===== PREMIUM SECTION PARALLAX =====
  document.querySelectorAll('.section').forEach((section, i) => {
    // Alternate parallax directions
    const direction = i % 2 === 0 ? 1 : -1;
    
    gsap.to(section.querySelector('.container'), {
      y: 30 * direction,
      ease: 'none',
      scrollTrigger: {
        trigger: section,
        start: 'top bottom',
        end: 'bottom top',
        scrub: 2
      }
    });
  });
  
  // ===== PREMIUM TABLE REVEAL =====
  document.querySelectorAll('.table').forEach(table => {
    const rows = table.querySelectorAll('tr');
    gsap.fromTo(rows,
      { opacity: 0, x: -20 },
      {
        opacity: 1,
        x: 0,
        duration: 0.6,
        stagger: 0.1,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: table,
          start: 'top 80%',
          toggleActions: 'play none none none'
        }
      }
    );
  });
  
  // ===== PREMIUM CODE BLOCK REVEAL =====
  document.querySelectorAll('.code-block').forEach(block => {
    gsap.fromTo(block,
      { opacity: 0, y: 30, scale: 0.95 },
      {
        opacity: 1,
        y: 0,
        scale: 1,
        duration: 0.8,
        ease: 'back.out(1.5)',
        scrollTrigger: {
          trigger: block,
          start: 'top 80%',
          toggleActions: 'play none none none'
        }
      }
    );
  });
  
  // ===== APP FLOW DIAGRAM ANIMATION =====
  const appFlowSvg = document.querySelector('.app-flow-svg');
  if (appFlowSvg) {
    const nodes = appFlowSvg.querySelectorAll('.app-node');
    gsap.fromTo(nodes,
      { opacity: 0, scale: 0 },
      {
        opacity: 1,
        scale: 1,
        duration: 0.8,
        stagger: 0.15,
        ease: 'back.out(2)',
        scrollTrigger: {
          trigger: appFlowSvg,
          start: 'top 70%',
          toggleActions: 'play none none none'
        }
      }
    );
  }
  
  // ===== BADGE MICRO-INTERACTIONS =====
  document.querySelectorAll('.badge').forEach(badge => {
    badge.addEventListener('mouseenter', () => {
      gsap.to(badge, { scale: 1.1, duration: 0.2, ease: 'back.out(3)' });
    });
    badge.addEventListener('mouseleave', () => {
      gsap.to(badge, { scale: 1, duration: 0.3, ease: 'power2.out' });
    });
  });
  
  // ===== SMOOTH SCROLL MOMENTUM =====
  let scrollTimeout;
  window.addEventListener('scroll', () => {
    document.body.classList.add('is-scrolling');
    clearTimeout(scrollTimeout);
    scrollTimeout = setTimeout(() => {
      document.body.classList.remove('is-scrolling');
    }, 150);
  });
</script>

</body>
</html>
